var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(o(e,n))}function c(t,e,n,r){if(t){const i=s(t,e,n,r);return t[0](i)}}function s(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r,i,a,o){const l=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,a);if(l){const i=s(e,n,r,o);t.p(i,l)}}function d(t){return null==t?"":t}let f,h,g=!1;function p(t,e,n,r){for(;t<e;){const i=t+(e-t>>1);n(i)<=r?t=i+1:e=i}return t}function m(t,e){g?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let i=0;for(let t=0;t<e.length;t++){const a=p(1,i+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;r[t]=n[a]+1;const o=a+1;n[o]=t,i=Math.max(o,i)}const a=[],o=[];let l=e.length-1;for(let t=n[i]+1;0!=t;t=r[t-1]){for(a.push(e[t-1]);l>=t;l--)o.push(e[l]);l--}for(;l>=0;l--)o.push(e[l]);a.reverse(),o.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<o.length;e++){for(;n<a.length&&o[e].claim_order>=a[n].claim_order;)n++;const r=n<a.length?a[n]:null;t.insertBefore(o[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function y(t,e,n){g&&!n?m(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function k(){return b(" ")}function M(){return b("")}function N(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function R(){if(void 0===f){f=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){f=!0}}return f}function T(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=$("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=R();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=N(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=N(n.contentWindow,"resize",e)}),m(t,n),()=>{(r||i&&n.contentWindow)&&i(),v(n)}}function _(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){h=t}function D(){if(!h)throw new Error("Function called outside component initialization");return h}function K(){const t=D();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function q(t){return D().$$.context.get(t)}const j=[],L=[],P=[],H=[],O=Promise.resolve();let F=!1;function B(t){P.push(t)}let I=!1;const W=new Set;function V(){if(!I){I=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];E(e),G(e.$$)}for(E(null),j.length=0;L.length;)L.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];W.has(e)||(W.add(e),e())}P.length=0}while(j.length);for(;H.length;)H.pop()();F=!1,I=!1,W.clear()}}function G(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const U=new Set;let Y;function Z(){Y={r:0,c:[],p:Y}}function X(){Y.r||r(Y.c),Y=Y.p}function J(t,e){t&&t.i&&(U.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),Y.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function tt(t){t&&t.c()}function et(t,n,a,o){const{fragment:l,on_mount:c,on_destroy:s,after_update:u}=t.$$;l&&l.m(n,a),o||B((()=>{const n=c.map(e).filter(i);s?s.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(B)}function nt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){-1===t.$$.dirty[0]&&(j.push(t),F||(F=!0,O.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,i,a,o,l,c,s=[-1]){const u=h;E(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:s,skip_bound:!1};let f=!1;if(d.ctx=a?a(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),f&&rt(e,t)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!o&&o(d.ctx),i.target){if(i.hydrate){g=!0;const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();i.intro&&J(e.$$.fragment),et(e,i.target,i.anchor,i.customElement),g=!1,V()}E(u)}class at{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ot={},lt={};function ct(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function st(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ut(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function dt(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ut(-e,6):e>9999?"+"+ut(e,6):ut(e,4))+"-"+ut(t.getUTCMonth()+1,2)+"-"+ut(t.getUTCDate(),2)+(a?"T"+ut(n,2)+":"+ut(r,2)+":"+ut(i,2)+"."+ut(a,3)+"Z":i?"T"+ut(n,2)+":"+ut(r,2)+":"+ut(i,2)+"Z":r||n?"T"+ut(n,2)+":"+ut(r,2)+"Z":"")}var ft=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,l=0,c=a<=0,s=!1;function u(){if(c)return lt;if(s)return s=!1,ot;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?c=!0:10===(r=t.charCodeAt(o++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(e=o++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=u())!==lt;){for(var d=[];r!==ot&&r!==lt;)d.push(r),r=u();e&&null==(d=e(d,l++))||i.push(d)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?dt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ct(t);return function(r,i){return e(n(r),i,t)}}(t,e):ct(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=st(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=st(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}(",").parse;function ht(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;gt&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const gt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function pt(t){let e=Math.round(t)%10;return 1==e?"st":2==e?"nd":3==e?"rd":"th"}function mt(t){return t>0?"increase":t<0?"decrease":"nochange"}function yt(t,e="",n=0){return 0!=t?Math.abs(t).toFixed(n)+e:"pp"==e?"n/c":"no change"}const vt="https://raw.githubusercontent.com/ONSvisual/census-data/main/csv/lists/places_2020.csv",xt="https://raw.githubusercontent.com/ONSvisual/census-data/main/json/place/",$t="https://raw.githubusercontent.com/ONSvisual/census-data/main/json/quantiles/quartiles_",wt={ew:{name:"",pl:""},wd:{name:"Ward",pl:"Wards"},lad:{name:"District",pl:"Districts"},rgn:{name:"Region",pl:"Regions"},ctry:{name:"Country",pl:"Countries"}},bt={age10yr:[{code:"0-9"},{code:"10-19"},{code:"20-29"},{code:"30-39"},{code:"40-49"},{code:"50-59"},{code:"60-69"},{code:"70plus",label:"70+"}],economic:[{code:"employee"},{code:"self-employed"},{code:"student",label:"student (employed)"},{code:"unemployed"},{code:"inactive"}],ethnicity:[{code:"white"},{code:"asian"},{code:"black"},{code:"mixed"},{code:"other"}],population:[{code:"female"},{code:"male"}],health:[{code:"good"},{code:"fair"},{code:"bad"}],tenure:[{code:"owned",label:"owner occupied"},{code:"shared_ownership",label:"shared ownership"},{code:"rented_private",label:"rented (private)"},{code:"rented_social",label:"rented (social)"},{code:"rent_free",label:"rent free"}],travel:[{code:"train_metro",label:"train/metro"},{code:"bus"},{code:"taxi"},{code:"car_van",label:"car/van"},{code:"moto",label:"motorbike/scooter"},{code:"bicycle"},{code:"foot",label:"on foot"},{code:"home",label:"home worker"},{code:"other"}]},kt=[];function Mt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!kt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),kt.push(n,e)}if(t){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,l=t){const c=[a,l];return i.push(c),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function Nt(e,n,a){const l=!Array.isArray(e),c=l?[e]:e,s=n.length<2;return{subscribe:Mt(a,(e=>{let a=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const r=n(l?u[0]:u,e);s?e(r):f=i(r)?r:t},g=c.map(((t,e)=>o(t,(t=>{u[e]=t,d&=~(1<<e),a&&h()}),(()=>{d|=1<<e}))));return a=!0,h(),function(){r(g),f()}})).subscribe}}function zt(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function At(t){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,e])=>void 0!==e)))}function Ct(t,e){if(!Array.isArray(t)||0===t.length)return null;const n={},r=e.length;let i,a,o,l,c;if(!r)return null;{for(i=0;i<r;i+=1){const r=e[i].accessor(t[0]);null==r||!0===Number.isNaN(r)?n[e[i].field]=[1/0,-1/0]:n[e[i].field]=Array.isArray(r)?r:[r,r]}const s=t.length;for(i=0;i<s;i+=1)for(a=0;a<r;a+=1)if(o=e[a],l=o.accessor(t[i]),c=o.field,Array.isArray(l)){const t=l.length;for(let e=0;e<t;e+=1)void 0!==l[e]&&null!==l[e]&&!1===Number.isNaN(l[e])&&(l[e]<n[c][0]&&(n[c][0]=l[e]),l[e]>n[c][1]&&(n[c][1]=l[e]))}else null!=l&&!1===Number.isNaN(l)&&(l<n[c][0]&&(n[c][0]=l),l>n[c][1]&&(n[c][1]=l))}return n}function St(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function Rt(t){return function([e,n]){return e?St(e[t],n):n}}function Tt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _t(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Tt(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}const Et=_t(Tt).right;_t((function(t){return null===t?NaN:+t})).center;var Dt=Math.sqrt(50),Kt=Math.sqrt(10),qt=Math.sqrt(2);function jt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Dt?10:a>=Kt?5:a>=qt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Dt?10:a>=Kt?5:a>=qt?2:1)}function Lt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Pt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ht(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ot(){}var Ft=.7,Bt=1/Ft,It="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gt=/^#([0-9a-f]{3,8})$/,Ut=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Yt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),Zt=new RegExp("^rgba\\("+[It,It,It,Wt]+"\\)$"),Xt=new RegExp("^rgba\\("+[Vt,Vt,Vt,Wt]+"\\)$"),Jt=new RegExp("^hsl\\("+[Wt,Vt,Vt]+"\\)$"),Qt=new RegExp("^hsla\\("+[Wt,Vt,Vt,Wt]+"\\)$"),te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ee(){return this.rgb().formatHex()}function ne(){return this.rgb().formatRgb()}function re(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ie(e):3===n?new ce(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ae(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ut.exec(t))?new ce(e[1],e[2],e[3],1):(e=Yt.exec(t))?new ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Zt.exec(t))?ae(e[1],e[2],e[3],e[4]):(e=Xt.exec(t))?ae(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Jt.exec(t))?fe(e[1],e[2]/100,e[3]/100,1):(e=Qt.exec(t))?fe(e[1],e[2]/100,e[3]/100,e[4]):te.hasOwnProperty(t)?ie(te[t]):"transparent"===t?new ce(NaN,NaN,NaN,0):null}function ie(t){return new ce(t>>16&255,t>>8&255,255&t,1)}function ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new ce(t,e,n,r)}function oe(t){return t instanceof Ot||(t=re(t)),t?new ce((t=t.rgb()).r,t.g,t.b,t.opacity):new ce}function le(t,e,n,r){return 1===arguments.length?oe(t):new ce(t,e,n,null==r?1:r)}function ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function se(){return"#"+de(this.r)+de(this.g)+de(this.b)}function ue(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function de(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ge(t,e,n,r)}function he(t){if(t instanceof ge)return new ge(t.h,t.s,t.l,t.opacity);if(t instanceof Ot||(t=re(t)),!t)return new ge;if(t instanceof ge)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ge(o,l,c,t.opacity)}function ge(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function pe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Pt(Ot,re,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ee,formatHex:ee,formatHsl:function(){return he(this).formatHsl()},formatRgb:ne,toString:ne}),Pt(ce,le,Ht(Ot,{brighter:function(t){return t=null==t?Bt:Math.pow(Bt,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ft:Math.pow(Ft,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatRgb:ue,toString:ue})),Pt(ge,(function(t,e,n,r){return 1===arguments.length?he(t):new ge(t,e,n,null==r?1:r)}),Ht(Ot,{brighter:function(t){return t=null==t?Bt:Math.pow(Bt,t),new ge(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ft:Math.pow(Ft,t),new ge(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ce(pe(t>=240?t-240:t+120,i,r),pe(t,i,r),pe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var me=t=>()=>t;function ye(t){return 1==(t=+t)?ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):me(isNaN(e)?n:e)}}function ve(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):me(isNaN(t)?e:t)}var xe=function t(e){var n=ye(e);function r(t,e){var r=n((t=le(t)).r,(e=le(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function $e(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function we(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Ce(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function be(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ke(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Me(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ce(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ne=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ze=new RegExp(Ne.source,"g");function Ae(t,e){var n,r,i,a=Ne.lastIndex=ze.lastIndex=0,o=-1,l=[],c=[];for(t+="",e+="";(n=Ne.exec(t))&&(r=ze.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:ke(n,r)})),a=ze.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)l[(n=c[r]).i]=n.x(t);return l.join("")})}function Ce(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?me(e):("number"===i?ke:"string"===i?(n=re(e))?(e=n,xe):Ae:e instanceof re?xe:e instanceof Date?be:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?we:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Me:ke:$e))(t,e)}function Se(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Re(t){return+t}var Te=[0,1];function _e(t){return t}function Ee(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function De(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Ee(i,r),a=n(o,a)):(r=Ee(r,i),a=n(a,o)),function(t){return a(r(t))}}function Ke(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ee(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Et(t,e,1,r)-1;return a[n](i[n](e))}}function qe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function je(){var t,e,n,r,i,a,o=Te,l=Te,c=Ce,s=_e;function u(){var t,e,n,c=Math.min(o.length,l.length);return s!==_e&&(t=o[0],e=o[c-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?Ke:De,i=a=null,d}function d(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,c)))(t(s(e)))}return d.invert=function(n){return s(e((a||(a=r(l,o.map(t),ke)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,Re),u()):o.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),c=Se,u()},d.clamp=function(t){return arguments.length?(s=!!t||_e,u()):s!==_e},d.interpolate=function(t){return arguments.length?(c=t,u()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function Le(){return je()(_e,_e)}function Pe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function He(t){return(t=Pe(Math.abs(t)))?t[1]:NaN}var Oe,Fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Be(t){if(!(e=Fe.exec(t)))throw new Error("invalid format: "+t);var e;return new Ie({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ie(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function We(t,e){var n=Pe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Be.prototype=Ie.prototype,Ie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ve={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>We(100*t,e),r:We,s:function(t,e){var n=Pe(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Oe=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Pe(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ge(t){return t}var Ue,Ye,Ze,Xe=Array.prototype.map,Je=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qe(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ge:(e=Xe.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Ge:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Xe.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Be(t)).fill,n=t.align,d=t.sign,f=t.symbol,h=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Ve[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===f?a:/[%p]/.test(v)?c:"",w=Ve[v],b=/[defgprs%]/.test(v);function k(t){var i,a,c,f=x,k=$;if("c"===v)k=w(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==d&&(M=!1),f=(M?"("===d?d:s:"-"===d||"("===d?"":d)+f,k=("s"===v?Je[8+Oe/3]:"")+k+(M&&"("===d?")":""),b)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){k=(46===c?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}p&&!h&&(t=r(t,1/0));var N=f.length+t.length+k.length,z=N<g?new Array(g-N+1).join(e):"";switch(p&&h&&(t=r(z+t,z.length?g-k.length:1/0),z=""),n){case"<":t=f+t+k+z;break;case"=":t=f+z+t+k;break;case"^":t=z.slice(0,N=z.length>>1)+f+t+k+z.slice(N);break;default:t=z+f+t+k}return l(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:d,formatPrefix:function(t,e){var n=d(((t=Be(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(He(e)/3))),i=Math.pow(10,-r),a=Je[8+r/3];return function(t){return n(i*t)+a}}}}function tn(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Dt?i*=10:a>=Kt?i*=5:a>=qt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Be(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(He(e)/3)))-He(Math.abs(t)))}(a,o))||(r.precision=i),Ze(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,He(e)-He(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-He(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Ye(r)}function en(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=jt(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)/o}return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return tn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,c=a[o],s=a[l],u=10;for(s<c&&(i=c,c=s,s=i,i=o,o=l,l=i);u-- >0;){if((i=jt(c,s,n))===r)return a[o]=c,a[l]=s,e(a);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function nn(){var t=Le();return t.copy=function(){return qe(t,nn())},Lt.apply(t,arguments),en(t)}function rn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function an(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function on(t){return t<0?-t*t:t*t}function ln(t){var e=t(_e,_e),n=1;function r(){return 1===n?t(_e,_e):.5===n?t(an,on):t(rn(n),rn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},en(e)}function cn(){var t=ln(je());return t.copy=function(){return qe(t,cn()).exponent(t.exponent())},Lt.apply(t,arguments),t}Ue=Qe({thousands:",",grouping:[3],currency:["$",""]}),Ye=Ue.format,Ze=Ue.formatPrefix;var sn={x:nn,y:nn,z:nn,r:function(){return cn.apply(null,arguments).exponent(.5)}};function un(t){return t}function dn(t){return e=>Math.log(t*e)}function fn(t){return e=>t*Math.exp(e)}function hn(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function gn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pn(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:dn(n),ground:fn(n),scaleType:e}}if("pow"===e){const t=1;return{lift:gn(t),ground:gn(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:gn(t),ground:gn(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:(n=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/n))),ground:hn(t),scaleType:e}}var n;return{lift:un,ground:un,scaleType:e}}(t),i=t.domain()[0],a="[object Date]"===Object.prototype.toString.call(i),[o,l]=t.domain().map((t=>n(a?t.getTime():t))),[c,s]=t.range(),u=e[0]||0,d=e[1]||0,f=(l-o)/(Math.abs(s-c)-u-d);return[o-u*f,d*f+l].map((t=>r(a?new Date(t):t)))}function mn(t){return function([e,n,r,i,a,o,l,c,s,u]){if(null===n)return null;const d=function(t,e,n,r,i,a){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){let a,o;return!0===i?(a=0,o=100):(a="r"===t?1:0,o="y"===t?n:"r"===t?25:e),!0===r?[o,a]:[a,o]}(t,e,n,r,a)}(t,l,c,o,s,u),f=e===sn[t]?e():e.copy();return f.domain(St(n[t],r)).range(d),i&&f.domain(pn(f,i)),!0===a&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function yn([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function vn([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var xn={x:!1,y:!0,z:!1,r:!1};const $n=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),wn=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function bn(t){let e,n,r,i;const a=t[54].default,o=c(a,t,t[53],wn);return{c(){e=$("div"),o&&o.c(),z(e,"class","layercake-container svelte-vhzpsp"),z(e,"style",n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"),B((()=>t[56].call(e)))},m(n,a){y(n,e,a),o&&o.m(e,null),t[55](e),r=T(e,t[56].bind(e)),i=!0},p(t,r){o&&o.p&&(!i||1988&r[0]|4194304&r[1])&&u(o,a,t,t[53],i?r:[-1,-1,-1,-1],$n,wn),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"))&&z(e,"style",n)},i(t){i||(J(o,t),i=!0)},o(t){Q(o,t),i=!1},d(n){n&&v(e),o&&o.d(n),t[55](null),r()}}}function kn(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&bn(t);return{c(){r&&r.c(),e=M()},m(t,i){r&&r.m(t,i),y(t,e,i),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&J(r,1)):(r=bn(t),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(Z(),Q(r,1,1,(()=>{r=null})),X())},i(t){n||(J(r),n=!0)},o(t){Q(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Mn(t,e,n){let r,i,a,o,c,s,{$$slots:u={},$$scope:d}=e,{ssr:f=!1}=e,{pointerEvents:h=!0}=e,{position:g="relative"}=e,{percentRange:p=!1}=e,{width:m}=e,{height:y}=e,{containerWidth:v=m||100}=e,{containerHeight:x=y||100}=e,{element:$}=e,{x:w}=e,{y:b}=e,{z:k}=e,{r:M}=e,{custom:N={}}=e,{data:z=[]}=e,{xDomain:A}=e,{yDomain:C}=e,{zDomain:S}=e,{rDomain:R}=e,{xNice:T=!1}=e,{yNice:_=!1}=e,{zNice:E=!1}=e,{rNice:K=!1}=e,{xReverse:q=xn.x}=e,{yReverse:j=xn.y}=e,{zReverse:P=xn.z}=e,{rReverse:H=xn.r}=e,{xPadding:O}=e,{yPadding:F}=e,{zPadding:B}=e,{rPadding:I}=e,{xScale:W=sn.x}=e,{yScale:V=sn.y}=e,{zScale:G=sn.y}=e,{rScale:U=sn.r}=e,{xRange:Y}=e,{yRange:Z}=e,{zRange:X}=e,{rRange:J}=e,{padding:Q={}}=e,{extents:tt={}}=e,{flatData:et}=e;const nt={},rt=Mt(),it=Mt();l(t,it,(t=>n(9,c=t)));const at=Mt();l(t,at,(t=>n(10,s=t)));const ot=Mt(),lt=Mt(),ct=Mt(),st=Mt(),ut=Mt(),dt=Mt(),ft=Mt(),ht=Mt(),gt=Mt(),pt=Mt(),mt=Mt(),yt=Mt(),vt=Mt(),xt=Mt(),$t=Mt(),wt=Mt(),bt=Mt(),kt=Mt(),St=Mt(),Tt=Mt(),_t=Mt(),Et=Mt(),Dt=Mt(),Kt=Mt(),qt=Mt(),jt=Mt(),Lt=Mt(),Pt=Mt(),Ht=Mt(),Ot=Mt(),Ft=Mt(),Bt=Mt(),It=Mt(),Wt=Mt(nt),Vt=Nt([ot,lt,ct,st],(([t,e,n,r])=>[{field:"x",accessor:t},{field:"y",accessor:e},{field:"z",accessor:n},{field:"r",accessor:r}].filter((t=>t.accessor)))),Gt=Nt([Ft,it,at],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ut=Nt([it,at,Gt],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Yt=Nt([Ut],(([t])=>t.width));l(t,Yt,(t=>n(6,i=t)));const Zt=Nt([Ut],(([t])=>t.height));l(t,Zt,(t=>n(7,a=t)));const Xt=Nt([Bt,Vt,It],(([t,e,n])=>({...Ct(t,e.filter((t=>!n[t.field]))),...n}))),Jt=Nt([Xt,ft],Rt("x")),Qt=Nt([Xt,ht],Rt("y")),te=Nt([Xt,gt],Rt("z")),ee=Nt([Xt,pt],Rt("r")),ne=Nt([Dt,Xt,Jt,St,mt,$t,Yt,Zt,Lt,rt],mn("x")),re=Nt([ot,ne],yn),ie=Nt([Kt,Xt,Qt,Tt,yt,wt,Yt,Zt,Pt,rt],mn("y")),ae=Nt([lt,ie],yn),oe=Nt([qt,Xt,te,_t,vt,bt,Yt,Zt,Ht,rt],mn("z")),le=Nt([ct,oe],yn),ce=Nt([jt,Xt,ee,Et,xt,kt,Yt,Zt,Ot,rt],mn("r")),se=Nt([st,ce],yn),ue=Nt([ne],vn),de=Nt([ie],vn),fe=Nt([oe],vn),he=Nt([ce],vn),ge=Nt([Yt,Zt],(([t,e,n])=>e/n));return l(t,ge,(t=>n(8,o=t))),t.$$set=t=>{"ssr"in t&&n(3,f=t.ssr),"pointerEvents"in t&&n(4,h=t.pointerEvents),"position"in t&&n(5,g=t.position),"percentRange"in t&&n(16,p=t.percentRange),"width"in t&&n(17,m=t.width),"height"in t&&n(18,y=t.height),"containerWidth"in t&&n(0,v=t.containerWidth),"containerHeight"in t&&n(1,x=t.containerHeight),"element"in t&&n(2,$=t.element),"x"in t&&n(19,w=t.x),"y"in t&&n(20,b=t.y),"z"in t&&n(21,k=t.z),"r"in t&&n(22,M=t.r),"custom"in t&&n(23,N=t.custom),"data"in t&&n(24,z=t.data),"xDomain"in t&&n(25,A=t.xDomain),"yDomain"in t&&n(26,C=t.yDomain),"zDomain"in t&&n(27,S=t.zDomain),"rDomain"in t&&n(28,R=t.rDomain),"xNice"in t&&n(29,T=t.xNice),"yNice"in t&&n(30,_=t.yNice),"zNice"in t&&n(31,E=t.zNice),"rNice"in t&&n(32,K=t.rNice),"xReverse"in t&&n(33,q=t.xReverse),"yReverse"in t&&n(34,j=t.yReverse),"zReverse"in t&&n(35,P=t.zReverse),"rReverse"in t&&n(36,H=t.rReverse),"xPadding"in t&&n(37,O=t.xPadding),"yPadding"in t&&n(38,F=t.yPadding),"zPadding"in t&&n(39,B=t.zPadding),"rPadding"in t&&n(40,I=t.rPadding),"xScale"in t&&n(41,W=t.xScale),"yScale"in t&&n(42,V=t.yScale),"zScale"in t&&n(43,G=t.zScale),"rScale"in t&&n(44,U=t.rScale),"xRange"in t&&n(45,Y=t.xRange),"yRange"in t&&n(46,Z=t.yRange),"zRange"in t&&n(47,X=t.zRange),"rRange"in t&&n(48,J=t.rRange),"padding"in t&&n(49,Q=t.padding),"extents"in t&&n(50,tt=t.extents),"flatData"in t&&n(51,et=t.flatData),"$$scope"in t&&n(53,d=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&w&&(nt.x=w),1048576&t.$$.dirty[0]&&b&&(nt.y=b),2097152&t.$$.dirty[0]&&k&&(nt.z=k),4194304&t.$$.dirty[0]&&M&&(nt.r=M),33554432&t.$$.dirty[0]&&A&&(nt.xDomain=A),67108864&t.$$.dirty[0]&&C&&(nt.yDomain=C),134217728&t.$$.dirty[0]&&S&&(nt.zDomain=S),268435456&t.$$.dirty[0]&&R&&(nt.rDomain=R),16384&t.$$.dirty[1]&&Y&&(nt.xRange=Y),32768&t.$$.dirty[1]&&Z&&(nt.yRange=Z),65536&t.$$.dirty[1]&&X&&(nt.zRange=X),131072&t.$$.dirty[1]&&J&&(nt.rRange=J),65536&t.$$.dirty[0]&&rt.set(p),1&t.$$.dirty[0]&&it.set(v),2&t.$$.dirty[0]&&at.set(x),524288&t.$$.dirty[0]&&ot.set(zt(w)),1048576&t.$$.dirty[0]&&lt.set(zt(b)),2097152&t.$$.dirty[0]&&ct.set(zt(k)),4194304&t.$$.dirty[0]&&st.set(zt(M)),33554432&t.$$.dirty[0]&&ft.set(A),67108864&t.$$.dirty[0]&&ht.set(C),134217728&t.$$.dirty[0]&&gt.set(S),268435456&t.$$.dirty[0]&&pt.set(R),8388608&t.$$.dirty[0]&&ut.set(N),16777216&t.$$.dirty[0]&&dt.set(z),536870912&t.$$.dirty[0]&&mt.set(T),1073741824&t.$$.dirty[0]&&yt.set(_),1&t.$$.dirty[1]&&vt.set(E),2&t.$$.dirty[1]&&xt.set(K),4&t.$$.dirty[1]&&$t.set(q),8&t.$$.dirty[1]&&wt.set(j),16&t.$$.dirty[1]&&bt.set(P),32&t.$$.dirty[1]&&kt.set(H),64&t.$$.dirty[1]&&St.set(O),128&t.$$.dirty[1]&&Tt.set(F),256&t.$$.dirty[1]&&_t.set(B),512&t.$$.dirty[1]&&Et.set(I),1024&t.$$.dirty[1]&&Dt.set(W),2048&t.$$.dirty[1]&&Kt.set(V),4096&t.$$.dirty[1]&&qt.set(G),8192&t.$$.dirty[1]&&jt.set(U),16384&t.$$.dirty[1]&&Lt.set(Y),32768&t.$$.dirty[1]&&Pt.set(Z),65536&t.$$.dirty[1]&&Ht.set(X),131072&t.$$.dirty[1]&&Ot.set(J),262144&t.$$.dirty[1]&&Ft.set(Q),524288&t.$$.dirty[1]&&It.set(At(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Bt.set(et||z),2097152&t.$$.dirty[1]&&function(t,e){D().$$.context.set(t,e)}("LayerCake",r)},n(52,r={activeGetters:Vt,width:Yt,height:Zt,percentRange:rt,aspectRatio:ge,containerWidth:it,containerHeight:at,x:ot,y:lt,z:ct,r:st,custom:ut,data:dt,xNice:mt,yNice:yt,zNice:vt,rNice:xt,xReverse:$t,yReverse:wt,zReverse:bt,rReverse:kt,xPadding:St,yPadding:Tt,zPadding:_t,rPadding:Et,padding:Gt,flatData:Bt,extents:Xt,xDomain:Jt,yDomain:Qt,zDomain:te,rDomain:ee,xRange:ue,yRange:de,zRange:fe,rRange:he,config:Wt,xScale:ne,xGet:re,yScale:ie,yGet:ae,zScale:oe,zGet:le,rScale:ce,rGet:se}),[v,x,$,f,h,g,i,a,o,c,s,it,at,Yt,Zt,ge,p,m,y,w,b,k,M,N,z,A,C,S,R,T,_,E,K,q,j,P,H,O,F,B,I,W,V,G,U,Y,Z,X,J,Q,tt,et,r,d,u,function(t){L[t?"unshift":"push"]((()=>{$=t,n(2,$)}))},function(){v=this.clientWidth,x=this.clientHeight,n(0,v),n(1,x)}]}class Nn extends at{constructor(t){super(),it(this,t,Mn,kn,a,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},[-1,-1,-1,-1])}}const zn=t=>({element:1&t}),An=t=>({element:t[0]}),Cn=t=>({element:1&t}),Sn=t=>({element:t[0]});function Rn(t){let e,n,r,i,a,o;const l=t[13].defs,s=c(l,t,t[12],Sn),d=t[13].default,f=c(d,t,t[12],An);return{c(){e=w("svg"),n=w("defs"),s&&s.c(),r=w("g"),f&&f.c(),z(r,"class","layercake-layout-svg_g"),z(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),z(e,"class","layercake-layout-svg svelte-u84d8d"),z(e,"viewBox",t[1]),z(e,"width",t[4]),z(e,"height",t[5]),z(e,"style",a=""+(t[2]+t[3]))},m(i,a){y(i,e,a),m(e,n),s&&s.m(n,null),m(e,r),f&&f.m(r,null),t[14](e),o=!0},p(t,[n]){s&&s.p&&(!o||4097&n)&&u(s,l,t,t[12],o?n:-1,Cn,Sn),f&&f.p&&(!o||4097&n)&&u(f,d,t,t[12],o?n:-1,zn,An),(!o||64&n&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&z(r,"transform",i),(!o||2&n)&&z(e,"viewBox",t[1]),(!o||16&n)&&z(e,"width",t[4]),(!o||32&n)&&z(e,"height",t[5]),(!o||12&n&&a!==(a=""+(t[2]+t[3])))&&z(e,"style",a)},i(t){o||(J(s,t),J(f,t),o=!0)},o(t){Q(s,t),Q(f,t),o=!1},d(n){n&&v(e),s&&s.d(n),f&&f.d(n),t[14](null)}}}function Tn(t,e,n){let r,i,a,{$$slots:o={},$$scope:c}=e,{element:s}=e,{viewBox:u}=e,{zIndex:d}=e,{pointerEvents:f}=e,h="",g="";const{containerWidth:p,containerHeight:m,padding:y}=q("LayerCake");return l(t,p,(t=>n(4,r=t))),l(t,m,(t=>n(5,i=t))),l(t,y,(t=>n(6,a=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"viewBox"in t&&n(1,u=t.viewBox),"zIndex"in t&&n(10,d=t.zIndex),"pointerEvents"in t&&n(11,f=t.pointerEvents),"$$scope"in t&&n(12,c=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&n(2,h=void 0!==d?`z-index:${d};`:""),2048&t.$$.dirty&&n(3,g=!1===f?"pointer-events:none;":"")},[s,u,h,g,r,i,a,p,m,y,d,f,c,o,function(t){L[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class _n extends at{constructor(t){super(),it(this,t,Tn,Rn,a,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function En(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dn(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>En(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}const Kn=Dn(En).right;Dn((function(t){return null===t?NaN:+t})).center;class qn extends Map{constructor(t,e=Ln){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(jn(this,t))}has(t){return super.has(jn(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function jn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ln(t){return null!==t&&"object"==typeof t?t.valueOf():t}var Pn=Math.sqrt(50),Hn=Math.sqrt(10),On=Math.sqrt(2);function Fn(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Bn(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);++l<i;)a[l]=(n+l)/o}return r&&a.reverse(),a}function Bn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Pn?10:a>=Hn?5:a>=On?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Pn?10:a>=Hn?5:a>=On?2:1)}function In(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Vn=Symbol("implicit");function Gn(){var t=new qn,e=[],n=[],r=Vn;function i(i){let a=t.get(i);if(void 0===a){if(r!==Vn)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new qn;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Gn(e,n).unknown(r)},Wn.apply(i,arguments),i}function Un(){var t,e,n=Gn().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,l=!1,c=0,s=0,u=.5;function d(){var n=r().length,d=o<a,f=d?o:a,h=d?a:o;t=(h-f)/Math.max(1,n-c+2*s),l&&(t=Math.floor(t)),f+=(h-f-t*(n-c))*u,e=t*(1-c),l&&(f=Math.round(f),e=Math.round(e));var g=In(n).map((function(e){return f+t*e}));return i(d?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),d()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,l=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,d()):l},n.padding=function(t){return arguments.length?(c=Math.min(1,s=+t),d()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),d()):c},n.paddingOuter=function(t){return arguments.length?(s=+t,d()):s},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),d()):u},n.copy=function(){return Un(r(),[a,o]).round(l).paddingInner(c).paddingOuter(s).align(u)},Wn.apply(d(),arguments)}function Yn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xn(){}var Jn=.7,Qn=1/Jn,tr="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rr=/^#([0-9a-f]{3,8})$/,ir=new RegExp("^rgb\\("+[tr,tr,tr]+"\\)$"),ar=new RegExp("^rgb\\("+[nr,nr,nr]+"\\)$"),or=new RegExp("^rgba\\("+[tr,tr,tr,er]+"\\)$"),lr=new RegExp("^rgba\\("+[nr,nr,nr,er]+"\\)$"),cr=new RegExp("^hsl\\("+[er,nr,nr]+"\\)$"),sr=new RegExp("^hsla\\("+[er,nr,nr,er]+"\\)$"),ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function dr(){return this.rgb().formatHex()}function fr(){return this.rgb().formatRgb()}function hr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?gr(e):3===n?new vr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ir.exec(t))?new vr(e[1],e[2],e[3],1):(e=ar.exec(t))?new vr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=or.exec(t))?pr(e[1],e[2],e[3],e[4]):(e=lr.exec(t))?pr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=cr.exec(t))?br(e[1],e[2]/100,e[3]/100,1):(e=sr.exec(t))?br(e[1],e[2]/100,e[3]/100,e[4]):ur.hasOwnProperty(t)?gr(ur[t]):"transparent"===t?new vr(NaN,NaN,NaN,0):null}function gr(t){return new vr(t>>16&255,t>>8&255,255&t,1)}function pr(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function mr(t){return t instanceof Xn||(t=hr(t)),t?new vr((t=t.rgb()).r,t.g,t.b,t.opacity):new vr}function yr(t,e,n,r){return 1===arguments.length?mr(t):new vr(t,e,n,null==r?1:r)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function xr(){return"#"+wr(this.r)+wr(this.g)+wr(this.b)}function $r(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function wr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function br(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mr(t,e,n,r)}function kr(t){if(t instanceof Mr)return new Mr(t.h,t.s,t.l,t.opacity);if(t instanceof Xn||(t=hr(t)),!t)return new Mr;if(t instanceof Mr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Mr(o,l,c,t.opacity)}function Mr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Yn(Xn,hr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:dr,formatHex:dr,formatHsl:function(){return kr(this).formatHsl()},formatRgb:fr,toString:fr}),Yn(vr,yr,Zn(Xn,{brighter:function(t){return t=null==t?Qn:Math.pow(Qn,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Jn:Math.pow(Jn,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xr,formatHex:xr,formatRgb:$r,toString:$r})),Yn(Mr,(function(t,e,n,r){return 1===arguments.length?kr(t):new Mr(t,e,n,null==r?1:r)}),Zn(Xn,{brighter:function(t){return t=null==t?Qn:Math.pow(Qn,t),new Mr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jn:Math.pow(Jn,t),new Mr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Nr(t>=240?t-240:t+120,i,r),Nr(t,i,r),Nr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var zr=t=>()=>t;function Ar(t){return 1==(t=+t)?Cr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):zr(isNaN(e)?n:e)}}function Cr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):zr(isNaN(t)?e:t)}var Sr=function t(e){var n=Ar(e);function r(t,e){var r=n((t=yr(t)).r,(e=yr(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Cr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Rr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Tr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Lr(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function _r(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Er(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Dr(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Lr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qr=new RegExp(Kr.source,"g");function jr(t,e){var n,r,i,a=Kr.lastIndex=qr.lastIndex=0,o=-1,l=[],c=[];for(t+="",e+="";(n=Kr.exec(t))&&(r=qr.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Er(n,r)})),a=qr.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)l[(n=c[r]).i]=n.x(t);return l.join("")})}function Lr(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?zr(e):("number"===i?Er:"string"===i?(n=hr(e))?(e=n,Sr):jr:e instanceof hr?Sr:e instanceof Date?_r:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Tr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Dr:Er:Rr))(t,e)}function Pr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hr(t){return+t}var Or=[0,1];function Fr(t){return t}function Br(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Ir(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Br(i,r),a=n(o,a)):(r=Br(r,i),a=n(a,o)),function(t){return a(r(t))}}function Wr(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Br(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Kn(t,e,1,r)-1;return a[n](i[n](e))}}function Vr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gr(){var t,e,n,r,i,a,o=Or,l=Or,c=Lr,s=Fr;function u(){var t,e,n,c=Math.min(o.length,l.length);return s!==Fr&&(t=o[0],e=o[c-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?Wr:Ir,i=a=null,d}function d(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,c)))(t(s(e)))}return d.invert=function(n){return s(e((a||(a=r(l,o.map(t),Er)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,Hr),u()):o.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),c=Pr,u()},d.clamp=function(t){return arguments.length?(s=!!t||Fr,u()):s!==Fr},d.interpolate=function(t){return arguments.length?(c=t,u()):c},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function Ur(){return Gr()(Fr,Fr)}function Yr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zr(t){return(t=Yr(Math.abs(t)))?t[1]:NaN}var Xr,Jr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qr(t){if(!(e=Jr.exec(t)))throw new Error("invalid format: "+t);var e;return new ti({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ti(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ei(t,e){var n=Yr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qr.prototype=ti.prototype,ti.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ni={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ei(100*t,e),r:ei,s:function(t,e){var n=Yr(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Xr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Yr(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ri(t){return t}var ii,ai,oi,li=Array.prototype.map,ci=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function si(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ri:(e=li.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?ri:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(li.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Qr(t)).fill,n=t.align,d=t.sign,f=t.symbol,h=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):ni[v]||(void 0===m&&(m=12),y=!0,v="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",$="$"===f?a:/[%p]/.test(v)?c:"",w=ni[v],b=/[defgprs%]/.test(v);function k(t){var i,a,c,f=x,k=$;if("c"===v)k=w(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==d&&(M=!1),f=(M?"("===d?d:s:"-"===d||"("===d?"":d)+f,k=("s"===v?ci[8+Xr/3]:"")+k+(M&&"("===d?")":""),b)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){k=(46===c?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}p&&!h&&(t=r(t,1/0));var N=f.length+t.length+k.length,z=N<g?new Array(g-N+1).join(e):"";switch(p&&h&&(t=r(z+t,z.length?g-k.length:1/0),z=""),n){case"<":t=f+t+k+z;break;case"=":t=f+z+t+k;break;case"^":t=z.slice(0,N=z.length>>1)+f+t+k+z.slice(N);break;default:t=z+f+t+k}return l(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:d,formatPrefix:function(t,e){var n=d(((t=Qr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Zr(e)/3))),i=Math.pow(10,-r),a=ci[8+r/3];return function(t){return n(i*t)+a}}}}function ui(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Pn?i*=10:a>=Hn?i*=5:a>=On&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Qr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zr(e)/3)))-Zr(Math.abs(t)))}(a,o))||(r.precision=i),oi(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zr(e)-Zr(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Zr(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return ai(r)}function di(t){var e=t.domain;return t.ticks=function(t){var n=e();return Fn(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ui(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,c=a[o],s=a[l],u=10;for(s<c&&(i=c,c=s,s=i,i=o,o=l,l=i);u-- >0;){if((i=Bn(c,s,n))===r)return a[o]=c,a[l]=s,e(a);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function fi(){var t=Ur();return t.copy=function(){return Vr(t,fi())},Wn.apply(t,arguments),di(t)}function hi(t){return Math.log(t)}function gi(t){return Math.exp(t)}function pi(t){return-Math.log(-t)}function mi(t){return-Math.exp(-t)}function yi(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vi(t){return function(e){return-t(-e)}}function xi(t){var e,n,r=t(hi,gi),i=r.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?yi:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=vi(e),n=vi(n),t(pi,mi)):t(hi,gi),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),l=o[0],c=o[o.length-1];(r=c<l)&&(f=l,l=c,c=f);var s,u,d,f=e(l),h=e(c),g=null==t?10:+t,p=[];if(!(a%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(u=1,s=n(f);u<a;++u)if(!((d=s*u)<l)){if(d>c)break;p.push(d)}}else for(;f<=h;++f)for(u=a-1,s=n(f);u>=1;--u)if(!((d=s*u)<l)){if(d>c)break;p.push(d)}2*p.length<g&&(p=Fn(l,c,g))}else p=Fn(f,h,Math.min(h-f,g)).map(n);return r?p.reverse():p},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=ai(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function $i(){var t=xi(Gr()).domain([1,10]);return t.copy=function(){return Vr(t,$i()).base(t.base())},Wn.apply(t,arguments),t}function wi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bi(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ki(t){return t<0?-t*t:t*t}function Mi(t){var e=t(Fr,Fr),n=1;function r(){return 1===n?t(Fr,Fr):.5===n?t(bi,ki):t(wi(n),wi(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},di(e)}function Ni(){var t=Mi(Gr());return t.copy=function(){return Vr(t,Ni()).exponent(t.exponent())},Wn.apply(t,arguments),t}function zi(){return Ni.apply(null,arguments).exponent(.5)}function Ai(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ci(t){let e,n,r,i,a,o;return{c(){e=w("rect"),z(e,"class","group-rect"),z(e,"x",n=t[3](t[8])),z(e,"y",r=t[4][1]),z(e,"width",i=t[3](t[0][t[10]+1])-t[3](t[8])),z(e,"height",a=t[4][0]),z(e,"fill",o=t[1][t[10]])},m(t,n){y(t,e,n)},p(t,l){9&l&&n!==(n=t[3](t[8]))&&z(e,"x",n),16&l&&r!==(r=t[4][1])&&z(e,"y",r),9&l&&i!==(i=t[3](t[0][t[10]+1])-t[3](t[8]))&&z(e,"width",i),16&l&&a!==(a=t[4][0])&&z(e,"height",a),2&l&&o!==(o=t[1][t[10]])&&z(e,"fill",o)},d(t){t&&v(e)}}}function Si(e){let n,r=e[0].slice(0,-1),i=[];for(let t=0;t<r.length;t+=1)i[t]=Ci(Ai(e,r,t));return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();z(n,"class","stack-group"),z(n,"opacity",e[2])},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(27&e){let a;for(r=t[0].slice(0,-1),a=0;a<r.length;a+=1){const o=Ai(t,r,a);i[a]?i[a].p(o,e):(i[a]=Ci(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}4&e&&z(n,"opacity",t[2])},i:t,o:t,d(t){t&&v(n),x(i,t)}}}function Ri(t,e,n){let r,i;const{xGet:a,xScale:o,yRange:c}=q("LayerCake");l(t,o,(t=>n(3,r=t))),l(t,c,(t=>n(4,i=t)));let{ticks:s}=e,{colors:u=["lightgrey","grey","grey","lightgrey"]}=e,{opacity:d=1}=e;return t.$$set=t=>{"ticks"in t&&n(0,s=t.ticks),"colors"in t&&n(1,u=t.colors),"opacity"in t&&n(2,d=t.opacity)},[s,u,d,r,i,o,c]}!function(t){ii=si(t),ai=ii.format,oi=ii.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Ti extends at{constructor(t){super(),it(this,t,Ri,Si,a,{ticks:0,colors:1,opacity:2})}}function _i(t,e,n){const r=t.slice();return r[18]=e[n],r}function Ei(t){let e,n,r,i;return{c(){e=w("g"),n=w("circle"),z(n,"cx",r="y"==t[0]?t[5]((t[3]+t[2])/2):t[6](t[18])),z(n,"cy",i="y"==t[0]?t[7](t[18]):t[8]((t[3]+t[2])/2)),z(n,"r","8"),z(n,"fill",t[1]),z(n,"stroke-width","0"),z(e,"class","marker")},m(t,r){y(t,e,r),m(e,n)},p(t,e){125&e&&r!==(r="y"==t[0]?t[5]((t[3]+t[2])/2):t[6](t[18]))&&z(n,"cx",r),413&e&&i!==(i="y"==t[0]?t[7](t[18]):t[8]((t[3]+t[2])/2))&&z(n,"cy",i),2&e&&z(n,"fill",t[1])},d(t){t&&v(e)}}}function Di(e){let n,r=e[4],i=[];for(let t=0;t<r.length;t+=1)i[t]=Ei(_i(e,r,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=M()},m(t,e){for(let n=0;n<i.length;n+=1)i[n].m(t,e);y(t,n,e)},p(t,[e]){if(511&e){let a;for(r=t[4],a=0;a<r.length;a+=1){const o=_i(t,r,a);i[a]?i[a].p(o,e):(i[a]=Ei(o),i[a].c(),i[a].m(n.parentNode,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){x(i,t),t&&v(n)}}}function Ki(t,e,n){let r,i,a,o,c,s,u,d,f;const{data:h,xGet:g,yGet:p,xScale:m,yScale:y,xDomain:v,yDomain:x}=q("LayerCake");l(t,h,(t=>n(4,c=t))),l(t,g,(t=>n(6,u=t))),l(t,p,(t=>n(7,d=t))),l(t,m,(t=>n(5,s=t))),l(t,y,(t=>n(8,f=t))),l(t,v,(t=>n(16,a=t))),l(t,x,(t=>n(17,o=t)));let{axis:$="x"}=e,{color:w="#206095"}=e;return t.$$set=t=>{"axis"in t&&n(0,$=t.axis),"color"in t&&n(1,w=t.color)},t.$$.update=()=>{196609&t.$$.dirty&&n(2,r="y"==$?a[0]:o[0]),196609&t.$$.dirty&&n(3,i="y"==$?a[1]:o[1])},[$,w,r,i,c,s,u,d,f,h,g,p,m,y,v,x,a,o]}class qi extends at{constructor(t){super(),it(this,t,Ki,Di,a,{axis:0,color:1})}}function ji(t,e,n){const r=t.slice();return r[28]=e[n],r[30]=n,r}function Li(t){let e,n,r,i;return{c(){e=w("line"),z(e,"y1",n=-1*t[20]),z(e,"y2",r=t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)||t[14]&&t[30]%2==0?t[10]+t[8]:t[10]+t[8]-13),z(e,"x1","0"),z(e,"x2","0"),z(e,"stroke",t[11]),z(e,"stroke-width",i=t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)?2:1),z(e,"class","svelte-fwjh80"),_(e,"baseline",t[13])},m(t,n){y(t,e,n)},p(t,a){1048576&a&&n!==(n=-1*t[20])&&z(e,"y1",n),50448&a&&r!==(r=t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)||t[14]&&t[30]%2==0?t[10]+t[8]:t[10]+t[8]-13)&&z(e,"y2",r),2048&a&&z(e,"stroke",t[11]),32784&a&&i!==(i=t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)?2:1)&&z(e,"stroke-width",i),8192&a&&_(e,"baseline",t[13])},d(t){t&&v(e)}}}function Pi(t){let e,n=t[1](t[28])+"";return{c(){e=b(n)},m(t,n){y(t,e,n)},p(t,r){262146&r&&n!==(n=t[1](t[28])+"")&&A(e,n)},d(t){t&&v(e)}}}function Hi(t){let e,n,r,i=t[1](t[28])+"";return{c(){e=b(t[5]),n=b(i),r=b(t[6])},m(t,i){y(t,e,i),y(t,n,i),y(t,r,i)},p(t,a){32&a&&A(e,t[5]),262146&a&&i!==(i=t[1](t[28])+"")&&A(n,i),64&a&&A(r,t[6])},d(t){t&&v(e),t&&v(n),t&&v(r)}}}function Oi(t){let e,n,r,i,a,o,l,c=!1!==t[0]&&Li(t);function s(t,e){return t[30]==t[18].length-1?Hi:Pi}let u=s(t),d=u(t);return{c(){e=w("g"),c&&c.c(),n=w("text"),d.c(),z(n,"x",r=t[7]||t[16]?t[17].bandwidth()/2:0),z(n,"y",i=t[3]?-1*t[20]-6:t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)||t[14]&&t[30]%2==0?t[8]+13:t[8]),z(n,"dx",a="start"==t[24](t[30])?t[9]-2:"end"==t[24](t[30])?t[9]+2:t[9]),z(n,"dy",t[10]),z(n,"text-anchor",t[24](t[30])),z(n,"fill",t[12]),z(n,"class","svelte-fwjh80"),_(n,"bold",t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)),z(e,"class",o="tick tick-"+t[28]+" svelte-fwjh80"),z(e,"transform",l="translate("+t[17](t[28])+","+t[19][0]+")")},m(t,r){y(t,e,r),c&&c.m(e,null),m(e,n),d.m(n,null)},p(t,f){!1!==t[0]?c?c.p(t,f):(c=Li(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),u===(u=s(t))&&d?d.p(t,f):(d.d(1),d=u(t),d&&(d.c(),d.m(n,null))),196736&f&&r!==(r=t[7]||t[16]?t[17].bandwidth()/2:0)&&z(n,"x",r),1098008&f&&i!==(i=t[3]?-1*t[20]-6:t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)||t[14]&&t[30]%2==0?t[8]+13:t[8])&&z(n,"y",i),512&f&&a!==(a="start"==t[24](t[30])?t[9]-2:"end"==t[24](t[30])?t[9]+2:t[9])&&z(n,"dx",a),1024&f&&z(n,"dy",t[10]),4096&f&&z(n,"fill",t[12]),32784&f&&_(n,"bold",t[15]&&Array.isArray(t[4])&&t[30]==Math.floor(t[4].length/2)),262144&f&&o!==(o="tick tick-"+t[28]+" svelte-fwjh80")&&z(e,"class",o),917504&f&&l!==(l="translate("+t[17](t[28])+","+t[19][0]+")")&&z(e,"transform",l)},d(t){t&&v(e),c&&c.d(),d.d()}}}function Fi(t){let e,n,r;return{c(){e=w("line"),z(e,"class","baseline svelte-fwjh80"),z(e,"y1",t[20]),z(e,"y2","0"),z(e,"x1",n=t[17](0)),z(e,"x2",r=t[17](0)),z(e,"stroke",t[11])},m(t,n){y(t,e,n)},p(t,i){1048576&i&&z(e,"y1",t[20]),131072&i&&n!==(n=t[17](0))&&z(e,"x1",n),131072&i&&r!==(r=t[17](0))&&z(e,"x2",r),2048&i&&z(e,"stroke",t[11])},d(t){t&&v(e)}}}function Bi(e){let n,r,i=e[18],a=[];for(let t=0;t<i.length;t+=1)a[t]=Oi(ji(e,i,t));let o=!0===e[2]&&Fi(e);return{c(){n=w("g");for(let t=0;t<a.length;t+=1)a[t].c();r=M(),o&&o.c(),z(n,"class","axis x-axis")},m(t,e){y(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null);m(n,r),o&&o.m(n,null)},p(t,[e]){if(18874363&e){let o;for(i=t[18],o=0;o<i.length;o+=1){const l=ji(t,i,o);a[o]?a[o].p(l,e):(a[o]=Oi(l),a[o].c(),a[o].m(n,r))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}!0===t[2]?o?o.p(t,e):(o=Fi(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&v(n),x(a,t),o&&o.d()}}}function Ii(t,e,n){let r,i,a,o,c;const{width:s,height:u,xScale:d,yScale:f,yRange:h}=q("LayerCake");l(t,u,(t=>n(20,c=t))),l(t,d,(t=>n(17,a=t))),l(t,h,(t=>n(19,o=t)));let{gridlines:g=!0}=e,{formatTick:p=(t=>t)}=e,{baseline:m=!1}=e,{flipped:y=!1}=e,{snapTicks:v=!1}=e,{ticks:x}=e,{prefix:$=""}=e,{suffix:w=""}=e,{xTick:b}=e,{yTick:k=15}=e,{dxTick:M=0}=e,{dyTick:N=0}=e,{lineColor:z="#999"}=e,{textColor:A="#555"}=e,{solid:C=!1}=e,{stagger:S=!1}=e,{median:R=!0}=e;return t.$$set=t=>{"gridlines"in t&&n(0,g=t.gridlines),"formatTick"in t&&n(1,p=t.formatTick),"baseline"in t&&n(2,m=t.baseline),"flipped"in t&&n(3,y=t.flipped),"snapTicks"in t&&n(25,v=t.snapTicks),"ticks"in t&&n(4,x=t.ticks),"prefix"in t&&n(5,$=t.prefix),"suffix"in t&&n(6,w=t.suffix),"xTick"in t&&n(7,b=t.xTick),"yTick"in t&&n(8,k=t.yTick),"dxTick"in t&&n(9,M=t.dxTick),"dyTick"in t&&n(10,N=t.dyTick),"lineColor"in t&&n(11,z=t.lineColor),"textColor"in t&&n(12,A=t.textColor),"solid"in t&&n(13,C=t.solid),"stagger"in t&&n(14,S=t.stagger),"median"in t&&n(15,R=t.median)},t.$$.update=()=>{131072&t.$$.dirty&&n(16,r="function"==typeof a.bandwidth),196624&t.$$.dirty&&n(18,i=Array.isArray(x)?x:r?a.domain():a.ticks(x))},[g,p,m,y,x,$,w,b,k,M,N,z,A,C,S,R,r,a,i,o,c,u,d,h,function(t){if(!0===v){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},v]}class Wi extends at{constructor(t){super(),it(this,t,Ii,Bi,a,{gridlines:0,formatTick:1,baseline:2,flipped:3,snapTicks:25,ticks:4,prefix:5,suffix:6,xTick:7,yTick:8,dxTick:9,dyTick:10,lineColor:11,textColor:12,solid:13,stagger:14,median:15})}}function Vi(t){let e,n,r,i,a,o;return e=new Ti({props:{ticks:t[1],colors:t[2],opacity:.3}}),r=new Wi({props:{ticks:t[1],solid:!0,lineColor:"rgba(0,0,0,0.65)",formatTick:t[6],snapTicks:!0,dyTick:0,stagger:t[5],suffix:t[7]}}),a=new qi({}),{c(){tt(e.$$.fragment),n=k(),tt(r.$$.fragment),i=k(),tt(a.$$.fragment)},m(t,l){et(e,t,l),y(t,n,l),et(r,t,l),y(t,i,l),et(a,t,l),o=!0},p(t,n){const i={};2&n&&(i.ticks=t[1]),4&n&&(i.colors=t[2]),e.$set(i);const a={};2&n&&(a.ticks=t[1]),64&n&&(a.formatTick=t[6]),32&n&&(a.stagger=t[5]),128&n&&(a.suffix=t[7]),r.$set(a)},i(t){o||(J(e.$$.fragment,t),J(r.$$.fragment,t),J(a.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),Q(r.$$.fragment,t),Q(a.$$.fragment,t),o=!1},d(t){nt(e,t),t&&v(n),nt(r,t),t&&v(i),nt(a,t)}}}function Gi(t){let e,n;return e=new _n({props:{$$slots:{default:[Vi]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},p(t,n){const r={};1254&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function Ui(t){let e,n,r;return n=new Nn({props:{padding:t[4],x:t[3],yDomain:[0,1],xDomain:[t[1][0],t[1][t[1].length-1]],xScale:t[8](),data:t[0],$$slots:{default:[Gi]},$$scope:{ctx:t}}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart-container svelte-4arupc"),z(e,"aria-hidden","true")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,[e]){const r={};16&e&&(r.padding=t[4]),8&e&&(r.x=t[3]),2&e&&(r.xDomain=[t[1][0],t[1][t[1].length-1]]),1&e&&(r.data=t[0]),1254&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function Yi(t,e,n){let{data:r}=e,{ticks:i}=e,{colors:a=["lightgrey","grey","grey","lightgrey"]}=e,{key:o="x"}=e,{padding:l={top:0,bottom:30,left:2,right:2}}=e,{stagger:c=!1}=e,{formatTick:s=(t=>t.toLocaleString())}=e,{scale:u="linear"}=e,{suffix:d=""}=e,f="log"==u?$i:"sqrt"==u?zi:fi;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"ticks"in t&&n(1,i=t.ticks),"colors"in t&&n(2,a=t.colors),"key"in t&&n(3,o=t.key),"padding"in t&&n(4,l=t.padding),"stagger"in t&&n(5,c=t.stagger),"formatTick"in t&&n(6,s=t.formatTick),"scale"in t&&n(9,u=t.scale),"suffix"in t&&n(7,d=t.suffix)},[r,i,a,o,l,c,s,d,f,u]}class Zi extends at{constructor(t){super(),it(this,t,Yi,Ui,a,{data:0,ticks:1,colors:2,key:3,padding:4,stagger:5,formatTick:6,scale:9,suffix:7})}}function Xi(t,e,n){const r=t.slice();return r[25]=e[n],r[27]=n,r}function Ji(t){let e,n,r,i;return{c(){e=w("rect"),z(e,"class","group-rect"),z(e,"data-id",t[27]),z(e,"x",n=t[12].bandwidth?t[7](t[25]):t[7](t[25])[0]),z(e,"y",r=t[14](t[13](t[25]))-1),z(e,"width",i=t[12].bandwidth?t[12].bandwidth():t[9](t[25])),z(e,"height","2"),z(e,"fill","#27A0CC"),z(e,"stroke",t[0]),z(e,"stroke-width",t[1])},m(t,n){y(t,e,n)},p(t,a){6272&a&&n!==(n=t[12].bandwidth?t[7](t[25]):t[7](t[25])[0])&&z(e,"x",n),26624&a&&r!==(r=t[14](t[13](t[25]))-1)&&z(e,"y",r),6656&a&&i!==(i=t[12].bandwidth?t[12].bandwidth():t[9](t[25]))&&z(e,"width",i),1&a&&z(e,"stroke",t[0]),2&a&&z(e,"stroke-width",t[1])},d(t){t&&v(e)}}}function Qi(t){let e,n,r,i,a,o,l,c,s,u=t[4](t[15](t[25]))+"",d=t[13]&&Ji(t);return{c(){e=w("rect"),d&&d.c(),o=w("text"),l=b(u),z(e,"class","group-rect"),z(e,"data-id",t[27]),z(e,"x",n=t[12].bandwidth?t[7](t[25]):t[7](t[25])[0]),z(e,"y",r=t[8](t[25])),z(e,"width",i=t[12].bandwidth?t[12].bandwidth():t[9](t[25])),z(e,"height",a=t[10](t[25])),z(e,"fill",t[5]),z(e,"stroke",t[0]),z(e,"stroke-width",t[1]),z(o,"x",c=t[12].bandwidth?t[7](t[25])+t[12].bandwidth()/2:t[7](t[25])[0]),z(o,"y",s=t[8](t[25])-4),z(o,"dx",t[2]),z(o,"dy",t[3]),z(o,"text-anchor",t[6])},m(t,n){y(t,e,n),d&&d.m(t,n),y(t,o,n),m(o,l)},p(t,f){6272&f&&n!==(n=t[12].bandwidth?t[7](t[25]):t[7](t[25])[0])&&z(e,"x",n),2304&f&&r!==(r=t[8](t[25]))&&z(e,"y",r),6656&f&&i!==(i=t[12].bandwidth?t[12].bandwidth():t[9](t[25]))&&z(e,"width",i),3072&f&&a!==(a=t[10](t[25]))&&z(e,"height",a),32&f&&z(e,"fill",t[5]),1&f&&z(e,"stroke",t[0]),2&f&&z(e,"stroke-width",t[1]),t[13]?d?d.p(t,f):(d=Ji(t),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),34832&f&&u!==(u=t[4](t[15](t[25]))+"")&&A(l,u),6272&f&&c!==(c=t[12].bandwidth?t[7](t[25])+t[12].bandwidth()/2:t[7](t[25])[0])&&z(o,"x",c),2304&f&&s!==(s=t[8](t[25])-4)&&z(o,"y",s),4&f&&z(o,"dx",t[2]),8&f&&z(o,"dy",t[3]),64&f&&z(o,"text-anchor",t[6])},d(t){t&&v(e),d&&d.d(t),t&&v(o)}}}function ta(e){let n,r=e[11],i=[];for(let t=0;t<r.length;t+=1)i[t]=Qi(Xi(e,r,t));return{c(){n=w("g");for(let t=0;t<i.length;t+=1)i[t].c();z(n,"class","column-group svelte-wgzwsk")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(65535&e){let a;for(r=t[11],a=0;a<r.length;a+=1){const o=Xi(t,r,a);i[a]?i[a].p(o,e):(i[a]=Qi(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&v(n),x(i,t)}}}function ea(t,e,n){let r,i,a,o,c,s,u,d,f,h;const{data:g,xGet:p,yGet:m,yRange:y,xScale:v,yScale:x,y:$,z:w}=q("LayerCake");l(t,g,(t=>n(11,s=t))),l(t,p,(t=>n(7,a=t))),l(t,m,(t=>n(8,c=t))),l(t,y,(t=>n(24,o=t))),l(t,v,(t=>n(12,u=t))),l(t,x,(t=>n(14,f=t))),l(t,$,(t=>n(15,h=t))),l(t,w,(t=>n(13,d=t)));let{stroke:b=""}=e,{strokeWidth:k=0}=e,{dxTick:M=0}=e,{dyTick:N=0}=e,{formatVal:z=(t=>t)}=e,{fill:A="#206095"}=e,{textAnchor:C="middle"}=e;return t.$$set=t=>{"stroke"in t&&n(0,b=t.stroke),"strokeWidth"in t&&n(1,k=t.strokeWidth),"dxTick"in t&&n(2,M=t.dxTick),"dyTick"in t&&n(3,N=t.dyTick),"formatVal"in t&&n(4,z=t.formatVal),"fill"in t&&n(5,A=t.fill),"textAnchor"in t&&n(6,C=t.textAnchor)},t.$$.update=()=>{128&t.$$.dirty&&n(9,r=t=>{const e=a(t);return Math.max(0,e[1]-e[0])}),16777472&t.$$.dirty&&n(10,i=t=>o[0]-c(t))},[b,k,M,N,z,A,C,a,c,r,i,s,u,d,f,h,g,p,m,y,v,x,$,w,o]}class na extends at{constructor(t){super(),it(this,t,ea,ta,a,{stroke:0,strokeWidth:1,dxTick:2,dyTick:3,formatVal:4,fill:5,textAnchor:6})}}function ra(t){let e,n,r,i;return e=new na({props:{fill:t[1],formatVal:t[7]}}),r=new Wi({props:{gridlines:!1}}),{c(){tt(e.$$.fragment),n=k(),tt(r.$$.fragment)},m(t,a){et(e,t,a),y(t,n,a),et(r,t,a),i=!0},p(t,n){const r={};2&n&&(r.fill=t[1]),128&n&&(r.formatVal=t[7]),e.$set(r)},i(t){i||(J(e.$$.fragment,t),J(r.$$.fragment,t),i=!0)},o(t){Q(e.$$.fragment,t),Q(r.$$.fragment,t),i=!1},d(t){nt(e,t),t&&v(n),nt(r,t)}}}function ia(t){let e,n;return e=new _n({props:{$$slots:{default:[ra]},$$scope:{ctx:t}}}),{c(){tt(e.$$.fragment)},m(t,r){et(e,t,r),n=!0},p(t,n){const r={};1154&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function aa(t){let e,n,r;return n=new Nn({props:{padding:{top:15,right:0,bottom:20,left:0},x:t[2],y:t[3],z:t[4],xScale:Un().paddingInner([.02]).round(!0),xDomain:t[5],yDomain:t[6],zDomain:t[6],data:t[0],$$slots:{default:[ia]},$$scope:{ctx:t}}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart-container svelte-s9z6lx")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,[e]){const r={};4&e&&(r.x=t[2]),8&e&&(r.y=t[3]),16&e&&(r.z=t[4]),32&e&&(r.xDomain=t[5]),64&e&&(r.yDomain=t[6]),64&e&&(r.zDomain=t[6]),1&e&&(r.data=t[0]),1154&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function oa(t,e,n){let r,i,a,{data:o}=e,{suffix:l="%"}=e,{decimals:c=0}=e,{fill:s="#206095"}=e,{xKey:u="x"}=e,{yKey:d="y"}=e,{zKey:f=null}=e;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"suffix"in t&&n(8,l=t.suffix),"decimals"in t&&n(9,c=t.decimals),"fill"in t&&n(1,s=t.fill),"xKey"in t&&n(2,u=t.xKey),"yKey"in t&&n(3,d=t.yKey),"zKey"in t&&n(4,f=t.zKey)},t.$$.update=()=>{5&t.$$.dirty&&n(5,r=o.map((t=>t[u]))),9&t.$$.dirty&&n(6,i=[0,Math.max(...o.map((t=>t[d])))]),768&t.$$.dirty&&n(7,a=t=>t.toFixed(c)+l)},[o,s,u,d,f,r,i,a,l,c]}class la extends at{constructor(t){super(),it(this,t,oa,aa,a,{data:0,suffix:8,decimals:9,fill:1,xKey:2,yKey:3,zKey:4})}}function ca(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function sa(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=ua(ca(t,n,e));return{c(){e=$("div");for(let t=0;t<r.length;t+=1)r[t].c();z(e,"class","stack svelte-q6mgyr")},m(t,n){y(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(31&i){let a;for(n=t[0],a=0;a<n.length;a+=1){const o=ca(t,n,a);r[a]?r[a].p(o,i):(r[a]=ua(o),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){t&&v(e),x(r,t)}}}function ua(t){let e;return{c(){e=$("div"),z(e,"class","cell svelte-q6mgyr"),S(e,"left",t[4][t[9]]/t[3]*100+"%"),S(e,"width",t[7][t[1]]/t[3]*100+"%"),S(e,"background-color",t[2][t[9]])},m(t,n){y(t,e,n)},p(t,n){24&n&&S(e,"left",t[4][t[9]]/t[3]*100+"%"),11&n&&S(e,"width",t[7][t[1]]/t[3]*100+"%"),4&n&&S(e,"background-color",t[2][t[9]])},d(t){t&&v(e)}}}function da(e){let n,r=e[3]&&e[4]&&sa(e);return{c(){r&&r.c(),n=M()},m(t,e){r&&r.m(t,e),y(t,n,e)},p(t,[e]){t[3]&&t[4]?r?r.p(t,e):(r=sa(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&v(n)}}}function fa(t,e,n){let r,i,{data:a}=e,{xKey:o="x"}=e,{yKey:l="y"}=e,{colors:c=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e;return t.$$set=t=>{"data"in t&&n(0,a=t.data),"xKey"in t&&n(5,o=t.xKey),"yKey"in t&&n(1,l=t.yKey),"colors"in t&&n(2,c=t.colors)},t.$$.update=()=>{3&t.$$.dirty&&(a||l)&&function(){n(3,r=a.map((t=>t[l])).reduce(((t,e)=>t+e),0));let t=[0];a.forEach((e=>t.push(t[t.length-1]+e[l]))),n(4,i=t)}()},[a,l,c,r,i,o]}class ha extends at{constructor(t){super(),it(this,t,fa,da,a,{data:0,xKey:5,yKey:1,colors:2})}}function ga(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function pa(t){let e,n,r,i,a=t[8](t[12][t[3]])+"";return{c(){e=$("span"),n=b("("),r=b(a),i=b(")"),z(e,"class",""),S(e,"color",t[6])},m(t,a){y(t,e,a),m(e,n),m(e,r),m(e,i)},p(t,n){9&n&&a!==(a=t[8](t[12][t[3]])+"")&&A(r,a),64&n&&S(e,"color",t[6])},d(t){t&&v(e)}}}function ma(t){let e,n,r,i=yt(Math.round(t[12][t[2]]-t[12][t[3]]),"pp")+"";return{c(){e=$("span"),n=b(i),z(e,"class",r=d(mt(Math.round(t[12][t[2]]-t[12][t[3]])))+" svelte-1ipg8f1")},m(t,r){y(t,e,r),m(e,n)},p(t,a){13&a&&i!==(i=yt(Math.round(t[12][t[2]]-t[12][t[3]]),"pp")+"")&&A(n,i),13&a&&r!==(r=d(mt(Math.round(t[12][t[2]]-t[12][t[3]])))+" svelte-1ipg8f1")&&z(e,"class",r)},d(t){t&&v(e)}}}function ya(t){let e,n,r,i,a,o,l,c,s=t[12][t[1]]+"",u=t[8](t[12][t[2]])+"";function d(t,e){return"prev"==t[3]?ma:t[3]?pa:void 0}let f=d(t),h=f&&f(t);return{c(){e=$("li"),n=$("div"),r=k(),i=b(s),a=k(),o=b(u),l=k(),h&&h.c(),c=k(),z(n,"class","bullet svelte-1ipg8f1"),S(n,"background-color",t[4][t[14]]),_(n,"round",t[7]),S(e,"color",t[5]),z(e,"class","svelte-1ipg8f1")},m(t,s){y(t,e,s),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(e,l),h&&h.m(e,null),m(e,c)},p(t,r){16&r&&S(n,"background-color",t[4][t[14]]),128&r&&_(n,"round",t[7]),3&r&&s!==(s=t[12][t[1]]+"")&&A(i,s),5&r&&u!==(u=t[8](t[12][t[2]])+"")&&A(o,u),f===(f=d(t))&&h?h.p(t,r):(h&&h.d(1),h=f&&f(t),h&&(h.c(),h.m(e,c))),32&r&&S(e,"color",t[5])},d(t){t&&v(e),h&&h.d()}}}function va(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=ya(ga(e,r,t));return{c(){n=$("ul");for(let t=0;t<i.length;t+=1)i[t].c();z(n,"class","svelte-1ipg8f1")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(511&e){let a;for(r=t[0],a=0;a<r.length;a+=1){const o=ga(t,r,a);i[a]?i[a].p(o,e):(i[a]=ya(o),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d(t){t&&v(n),x(i,t)}}}function xa(t,e,n){let r,{data:i}=e,{xKey:a="x"}=e,{yKey:o="y"}=e,{zKey:l="ew"}=e,{colors:c=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{textColor:s="#555"}=e,{mutedColor:u="#999"}=e,{decimals:d=null}=e,{round:f=!1}=e;return t.$$set=t=>{"data"in t&&n(0,i=t.data),"xKey"in t&&n(1,a=t.xKey),"yKey"in t&&n(2,o=t.yKey),"zKey"in t&&n(3,l=t.zKey),"colors"in t&&n(4,c=t.colors),"textColor"in t&&n(5,s=t.textColor),"mutedColor"in t&&n(6,u=t.mutedColor),"decimals"in t&&n(9,d=t.decimals),"round"in t&&n(7,f=t.round)},t.$$.update=()=>{5&t.$$.dirty&&(r=i.map((t=>t[o])).reduce(((t,e)=>t+e),0)),9&t.$$.dirty&&i.map((t=>t[l])).reduce(((t,e)=>t+e),0)},[i,a,o,l,c,s,u,f,function(t){let e;return e=d?(t/r*100).toFixed(d)+"%":t/r*100<.1?"<0.1%":t/r*100<1?"<1%":(t/r*100).toFixed(0)+"%",e},d]}class $a extends at{constructor(t){super(),it(this,t,xa,va,a,{data:0,xKey:1,yKey:2,zKey:3,colors:4,textColor:5,mutedColor:6,decimals:9,round:7})}}function wa(t){let e,n,r;return n=new ha({props:{data:t[0],yKey:t[4],colors:t[5]}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart svelte-qqoba1"),S(e,"height",.25*t[1]+"px")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,i){const a={};1&i&&(a.data=t[0]),16&i&&(a.yKey=t[4]),32&i&&(a.colors=t[5]),n.$set(a),(!r||2&i)&&S(e,"height",.25*t[1]+"px")},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function ba(t){let e,n,r,i,a,o,l;n=new ha({props:{data:t[0],yKey:t[3],colors:t[5]}});let c=t[4]&&wa(t);return o=new $a({props:{data:t[0],xKey:t[2],yKey:t[3],zKey:t[4],decimals:t[6],colors:t[5]}}),{c(){e=$("div"),tt(n.$$.fragment),r=k(),c&&c.c(),i=k(),a=$("div"),tt(o.$$.fragment),z(e,"class","chart svelte-qqoba1"),S(e,"height",(t[4]?.75*t[1]:t[1])+"px"),z(a,"class","legend svelte-qqoba1")},m(t,s){y(t,e,s),et(n,e,null),y(t,r,s),c&&c.m(t,s),y(t,i,s),y(t,a,s),et(o,a,null),l=!0},p(t,[r]){const a={};1&r&&(a.data=t[0]),8&r&&(a.yKey=t[3]),32&r&&(a.colors=t[5]),n.$set(a),(!l||18&r)&&S(e,"height",(t[4]?.75*t[1]:t[1])+"px"),t[4]?c?(c.p(t,r),16&r&&J(c,1)):(c=wa(t),c.c(),J(c,1),c.m(i.parentNode,i)):c&&(Z(),Q(c,1,1,(()=>{c=null})),X());const s={};1&r&&(s.data=t[0]),4&r&&(s.xKey=t[2]),8&r&&(s.yKey=t[3]),16&r&&(s.zKey=t[4]),64&r&&(s.decimals=t[6]),32&r&&(s.colors=t[5]),o.$set(s)},i(t){l||(J(n.$$.fragment,t),J(c),J(o.$$.fragment,t),l=!0)},o(t){Q(n.$$.fragment,t),Q(c),Q(o.$$.fragment,t),l=!1},d(t){t&&v(e),nt(n),t&&v(r),c&&c.d(t),t&&v(i),t&&v(a),nt(o)}}}function ka(t,e,n){let{data:r}=e,{height:i=80}=e,{xKey:a="x"}=e,{yKey:o="y"}=e,{zKey:l="ew"}=e,{colors:c=["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]}=e,{decimals:s=null}=e;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"height"in t&&n(1,i=t.height),"xKey"in t&&n(2,a=t.xKey),"yKey"in t&&n(3,o=t.yKey),"zKey"in t&&n(4,l=t.zKey),"colors"in t&&n(5,c=t.colors),"decimals"in t&&n(6,s=t.decimals)},[r,i,a,o,l,c,s]}class Ma extends at{constructor(t){super(),it(this,t,ka,ba,a,{data:0,height:1,xKey:2,yKey:3,zKey:4,colors:5,decimals:6})}}function Na(t,e,n){const r=t.slice();return r[32]=e[n],r[35]=e,r[34]=n,r}function za(t,e,n){const r=t.slice();return r[32]=e[n],r[33]=e,r[34]=n,r}function Aa(t){let e,n,r,i,a,o,l,c=(t[0]?t[0]:"Select one")+"";return{c(){e=$("a"),n=$("span"),r=b(c),i=k(),a=$("span"),a.textContent=" ",z(n,"class","svelte-qdzmwx"),z(a,"class","button svelte-qdzmwx"),_(a,"search",t[3]),_(a,"down",!t[3]),z(e,"id","toggle"),z(e,"class","svelte-qdzmwx")},m(c,s){y(c,e,s),m(e,n),m(n,r),m(e,i),m(e,a),o||(l=N(e,"click",t[12]),o=!0)},p(t,e){1&e[0]&&c!==(c=(t[0]?t[0]:"Select one")+"")&&A(r,c),8&e[0]&&_(a,"search",t[3]),8&e[0]&&_(a,"down",!t[3])},d(t){t&&v(e),o=!1,l()}}}function Ca(t){let e,n,i,a,o,l,c,s,u=t[6][t[1]]+"",d=t[2]&&Sa(t);return{c(){e=$("a"),n=$("span"),i=b(u),a=k(),d&&d.c(),o=k(),l=$("span"),l.textContent=" ",z(n,"class","selection svelte-qdzmwx"),z(l,"class","button close svelte-qdzmwx"),z(e,"id","toggle"),z(e,"class","selected svelte-qdzmwx")},m(r,u){y(r,e,u),m(e,n),m(n,i),m(n,a),d&&d.m(n,null),m(e,o),m(e,l),c||(s=[N(l,"click",t[14]),N(e,"click",t[12])],c=!0)},p(t,e){66&e[0]&&u!==(u=t[6][t[1]]+"")&&A(i,u),t[2]?d?d.p(t,e):(d=Sa(t),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d(t){t&&v(e),d&&d.d(),c=!1,r(s)}}}function Sa(t){let e,n,r=t[6][t[2]]+"";return{c(){e=$("small"),n=b(r),z(e,"class","svelte-qdzmwx")},m(t,r){y(t,e,r),m(e,n)},p(t,e){68&e[0]&&r!==(r=t[6][t[2]]+"")&&A(n,r)},d(t){t&&v(e)}}}function Ra(t){let e,n,i,a,o,l;function c(t,e){return t[4].length<3?Da:t[9][0]&&t[2]?Ea:t[9][0]?_a:Ta}let s=c(t),u=s(t);return{c(){e=$("div"),n=$("input"),i=k(),a=$("ul"),u.c(),z(n,"type","text"),z(n,"placeholder",""),z(n,"autocomplete","false"),z(n,"class","svelte-qdzmwx"),z(a,"class","svelte-qdzmwx"),z(e,"id","dropdown"),S(e,"top","0"),z(e,"class","svelte-qdzmwx")},m(r,c){y(r,e,c),m(e,n),C(n,t[4]),t[23](n),m(e,i),m(e,a),u.m(a,null),t[30](e),o||(l=[N(n,"input",t[22]),N(n,"keyup",t[16])],o=!0)},p(t,e){16&e[0]&&n.value!==t[4]&&C(n,t[4]),s===(s=c(t))&&u?u.p(t,e):(u.d(1),u=s(t),u&&(u.c(),u.m(a,null)))},d(n){n&&v(e),t[23](null),u.d(),t[30](null),o=!1,r(l)}}}function Ta(e){let n;return{c(){n=$("li"),n.textContent="No results",z(n,"class","svelte-qdzmwx")},m(t,e){y(t,n,e)},p:t,d(t){t&&v(n)}}}function _a(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ka(Na(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=M()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,i){if(11010&i[0]){let a;for(n=t[9],a=0;a<n.length;a+=1){const o=Na(t,n,a);r[a]?r[a].p(o,i):(r[a]=Ka(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){x(r,t),t&&v(e)}}}function Ea(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=qa(za(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=M()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,i){if(11014&i[0]){let a;for(n=t[9],a=0;a<n.length;a+=1){const o=za(t,n,a);r[a]?r[a].p(o,i):(r[a]=qa(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){x(r,t),t&&v(e)}}}function Da(e){let n;return{c(){n=$("li"),n.textContent="Type a name...",z(n,"class","svelte-qdzmwx")},m(t,e){y(t,n,e)},p:t,d(t){t&&v(n)}}}function Ka(t){let e,n,i,a,o,l=t[32][t[1]]+"",c=t[34];function s(){return t[27](t[32])}function u(){return t[28](t[34])}const d=()=>t[29](e,c),f=()=>t[29](null,c);return{c(){e=$("li"),n=b(l),i=k(),z(e,"class","svelte-qdzmwx"),_(e,"highlight",t[8]==t[34])},m(t,r){y(t,e,r),m(e,n),m(e,i),d(),a||(o=[N(e,"click",s),N(e,"mouseover",u)],a=!0)},p(r,i){t=r,514&i[0]&&l!==(l=t[32][t[1]]+"")&&A(n,l),c!==t[34]&&(f(),c=t[34],d()),256&i[0]&&_(e,"highlight",t[8]==t[34])},d(t){t&&v(e),f(),a=!1,r(o)}}}function qa(t){let e,n,i,a,o,l,c,s,u=t[32][t[1]]+"",d=t[32][t[2]]+"",f=t[34];function h(){return t[24](t[32])}function g(){return t[25](t[34])}const p=()=>t[26](e,f),x=()=>t[26](null,f);return{c(){e=$("li"),n=b(u),i=k(),a=$("small"),o=b(d),l=k(),z(a,"class","svelte-qdzmwx"),z(e,"class","svelte-qdzmwx"),_(e,"highlight",t[8]==t[34])},m(t,r){y(t,e,r),m(e,n),m(e,i),m(e,a),m(a,o),m(e,l),p(),c||(s=[N(e,"click",h),N(e,"mouseover",g)],c=!0)},p(r,i){t=r,514&i[0]&&u!==(u=t[32][t[1]]+"")&&A(n,u),516&i[0]&&d!==(d=t[32][t[2]]+"")&&A(o,d),f!==t[34]&&(x(),f=t[34],p()),256&i[0]&&_(e,"highlight",t[8]==t[34])},d(t){t&&v(e),x(),c=!1,r(s)}}}function ja(e){let n,r,i,a;function o(t,e){return t[6]&&!t[3]?Ca:Aa}let l=o(e),c=l(e),s=e[7]&&Ra(e);return{c(){n=$("div"),c.c(),r=k(),s&&s.c(),z(n,"id","select"),z(n,"class","svelte-qdzmwx"),_(n,"active",e[7])},m(t,o){y(t,n,o),c.m(n,null),m(n,r),s&&s.m(n,null),i||(a=N(n,"keydown",e[15]),i=!0)},p(t,e){l===(l=o(t))&&c?c.p(t,e):(c.d(1),c=l(t),c&&(c.c(),c.m(n,r))),t[7]?s?s.p(t,e):(s=Ra(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),128&e[0]&&_(n,"active",t[7])},i:t,o:t,d(t){t&&v(n),c.d(),s&&s.d(),i=!1,a()}}}function La(t,e,n){let r;const i=K();let a,o,l,{options:c}=e,{selected:s=null}=e,{placeholder:u="Find an area..."}=e,{value:d="code"}=e,{label:f="name"}=e,{group:h=null}=e,{search:g=!1}=e,p=s,m=s?c.find((t=>{t[d],s[d]})):null,y=!1,v="",x=null,$=[];function w(t){n(17,s=t),n(7,y=!1),i("select",{selected:t,value:t[d]})}return t.$$set=t=>{"options"in t&&n(18,c=t.options),"selected"in t&&n(17,s=t.selected),"placeholder"in t&&n(0,u=t.placeholder),"value"in t&&n(19,d=t.value),"label"in t&&n(1,f=t.label),"group"in t&&n(2,h=t.group),"search"in t&&n(3,g=t.search)},t.$$.update=()=>{16&t.$$.dirty[0]&&n(21,r=v?new RegExp(v,"i"):null),2359298&t.$$.dirty[0]&&(n(9,a=r?c.filter((t=>r.test(t[f]))):c),n(8,x=0)),32&t.$$.dirty[0]&&(document.onclick=function(t){t.target!==o&&(n(7,y=!1),n(8,x=0))}),1966080&t.$$.dirty[0]&&p!=s&&(n(6,m=c.find((t=>t[d]==s[d]))),n(20,p=s))},[u,f,h,g,v,o,m,y,x,a,l,$,function(t){var e;t.stopPropagation(),n(4,v=""),n(7,y=!y),(e=10,new Promise((t=>setTimeout(t,e)))).then((()=>{l&&y&&l.focus()}))},w,function(t){t.stopPropagation(),n(17,s=null),n(20,p=null),n(6,m=null),i("select",{selected:null,value:null})},function(t){y&&a[0]&&Number.isInteger(x)&&(38===t.keyCode?(n(8,x-=x>0?1:0),$[x].scrollIntoView({block:"nearest",inline:"start"})):40===t.keyCode&&(n(8,x+=x<a.length-1?1:0),$[x].scrollIntoView({block:"nearest",inline:"end"})))},function(t){a[0]&&Number.isInteger(x)&&13===t.keyCode&&w(a[x])},s,c,d,p,r,function(){v=this.value,n(4,v)},function(t){L[t?"unshift":"push"]((()=>{l=t,n(10,l)}))},t=>w(t),t=>n(8,x=t),function(t,e){L[t?"unshift":"push"]((()=>{$[e]=t,n(11,$)}))},t=>w(t),t=>n(8,x=t),function(t,e){L[t?"unshift":"push"]((()=>{$[e]=t,n(11,$)}))},function(t){L[t?"unshift":"push"]((()=>{o=t,n(5,o)}))}]}class Pa extends at{constructor(t){super(),it(this,t,La,ja,a,{options:18,selected:17,placeholder:0,value:19,label:1,group:2,search:3},[-1,-1])}}function Ha(t,e,n){const r=t.slice();return r[22]=e[n],r}function Oa(t){let e,n,r,i,a,o,l,c,s,u,d,f,h,g,p,w,M,N=t[3].name+"",C=t[3].parents[0]&&Fa(t),S=t[8]&&Ba(t),R=t[9]&&Ia(t),E=t[10],D=[];for(let e=0;e<E.length;e+=1)D[e]=ao(Ha(t,E,e));const K=t=>Q(D[t],1,1,(()=>{D[t]=null}));return{c(){e=$("div"),n=$("div"),r=$("span"),i=b(N),a=$("br"),o=k(),C&&C.c(),l=k(),S&&S.c(),c=k(),R&&R.c(),s=k(),u=$("div");for(let t=0;t<D.length;t+=1)D[t].c();f=k(),h=$("div"),g=$("div"),g.innerHTML='<img src="https://onsvisual.github.io/svelte-scrolly/img/ons-logo-pos-en.svg" alt="Office for National Statistics" class="svelte-eg1r6h"/>',p=k(),w=$("div"),w.innerHTML='<span class="text-small svelte-eg1r6h">Source: Census 2011, with change +/- from Census 2001</span>',z(r,"class","text-big svelte-eg1r6h"),z(e,"class","grid svelte-eg1r6h"),z(u,"id","grid"),z(u,"class","grid mts svelte-eg1r6h"),B((()=>t[17].call(u))),z(w,"class","svelte-eg1r6h"),_(w,"text-right",t[6]>1),z(h,"class","grid mt svelte-eg1r6h")},m(v,x){y(v,e,x),m(e,n),m(n,r),m(r,i),m(n,a),m(n,o),C&&C.m(n,null),m(e,l),S&&S.m(e,null),y(v,c,x),R&&R.m(v,x),y(v,s,x),y(v,u,x);for(let t=0;t<D.length;t+=1)D[t].m(u,null);d=T(u,t[17].bind(u)),y(v,f,x),y(v,h,x),m(h,g),m(h,p),m(h,w),M=!0},p(t,r){if((!M||8&r)&&N!==(N=t[3].name+"")&&A(i,N),t[3].parents[0]?C?C.p(t,r):(C=Fa(t),C.c(),C.m(n,null)):C&&(C.d(1),C=null),t[8]?S?(S.p(t,r),256&r&&J(S,1)):(S=Ba(t),S.c(),J(S,1),S.m(e,null)):S&&(Z(),Q(S,1,1,(()=>{S=null})),X()),t[9]?R?R.p(t,r):(R=Ia(t),R.c(),R.m(s.parentNode,s)):R&&(R.d(1),R=null),5288&r){let e;for(E=t[10],e=0;e<E.length;e+=1){const n=Ha(t,E,e);D[e]?(D[e].p(n,r),J(D[e],1)):(D[e]=ao(n),D[e].c(),J(D[e],1),D[e].m(u,null))}for(Z(),e=E.length;e<D.length;e+=1)K(e);X()}64&r&&_(w,"text-right",t[6]>1)},i(t){if(!M){J(S);for(let t=0;t<E.length;t+=1)J(D[t]);M=!0}},o(t){Q(S),D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)Q(D[t]);M=!1},d(t){t&&v(e),C&&C.d(),S&&S.d(),t&&v(c),R&&R.d(t),t&&v(s),t&&v(u),x(D,t),d(),t&&v(f),t&&v(h)}}}function Fa(t){let e,n,r,i,a=wt[t[3].type].name+"",o=t[3].parents[0].name+"";return{c(){e=b(a),n=b(" in "),r=b(o),i=$("br")},m(t,a){y(t,e,a),y(t,n,a),y(t,r,a),y(t,i,a)},p(t,n){8&n&&a!==(a=wt[t[3].type].name+"")&&A(e,a),8&n&&o!==(o=t[3].parents[0].name+"")&&A(r,o)},d(t){t&&v(e),t&&v(n),t&&v(r),t&&v(i)}}}function Ba(t){let e,n,r,i,a;function o(e){t[13](e)}let l={options:t[1],group:"typenm",search:!0};return void 0!==t[2]&&(l.selected=t[2]),r=new Pa({props:l}),L.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(r,"selected",o))),r.$on("select",t[14]),{c(){e=$("div"),n=$("div"),tt(r.$$.fragment),S(n,"width","260px"),z(n,"class","svelte-eg1r6h"),_(n,"float-right",t[6]>1)},m(t,i){y(t,e,i),m(e,n),et(r,n,null),a=!0},p(t,e){const a={};var o;2&e&&(a.options=t[1]),!i&&4&e&&(i=!0,a.selected=t[2],o=()=>i=!1,H.push(o)),r.$set(a),64&e&&_(n,"float-right",t[6]>1)},i(t){a||(J(r.$$.fragment,t),a=!0)},o(t){Q(r.$$.fragment,t),a=!1},d(t){t&&v(e),nt(r)}}}function Ia(t){let e,n,i,a,o,l,c,s;return{c(){e=$("div"),n=$("div"),i=b("Comparison:\n\t\t"),a=$("button"),a.textContent="National figures",o=k(),l=$("button"),l.textContent="Change from 2001",z(a,"class","btn svelte-eg1r6h"),_(a,"btn-active",!t[7]),z(l,"class","btn svelte-eg1r6h"),_(l,"btn-active",t[7]),z(n,"class","text-small svelte-eg1r6h"),z(e,"class","grid mts svelte-eg1r6h")},m(r,u){y(r,e,u),m(e,n),m(n,i),m(n,a),m(n,o),m(n,l),c||(s=[N(a,"click",t[15]),N(l,"click",t[16])],c=!0)},p(t,e){128&e&&_(a,"btn-active",!t[7]),128&e&&_(l,"btn-active",t[7])},d(t){t&&v(e),c=!1,r(s)}}}function Wa(t){let e,n,r,i,a,o,l,c,s,u,f,h,g,p,x=t[3].data.population.value[2011].all.toLocaleString()+"",w=yt(t[3].data.population.value.change.all,"%",1)+"",M=t[5]&&Va(t),N=t[3].data.population.value_rank&&Ga(t);return{c(){e=$("div"),n=$("span"),n.textContent="Population",r=k(),i=$("br"),a=k(),o=$("span"),l=b(x),c=k(),s=$("span"),u=b(w),h=k(),M&&M.c(),g=k(),N&&N.c(),z(n,"class","text-label svelte-eg1r6h"),z(o,"class","text-big svelte-eg1r6h"),z(s,"class",f=d(mt(t[3].data.population.value.change.all))+" svelte-eg1r6h")},m(t,d){y(t,e,d),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(o,l),m(e,c),m(e,s),m(s,u),m(e,h),M&&M.m(e,null),m(e,g),N&&N.m(e,null),p=!0},p(t,n){(!p||8&n)&&x!==(x=t[3].data.population.value[2011].all.toLocaleString()+"")&&A(l,x),(!p||8&n)&&w!==(w=yt(t[3].data.population.value.change.all,"%",1)+"")&&A(u,w),(!p||8&n&&f!==(f=d(mt(t[3].data.population.value.change.all))+" svelte-eg1r6h"))&&z(s,"class",f),t[5]?M?(M.p(t,n),32&n&&J(M,1)):(M=Va(t),M.c(),J(M,1),M.m(e,g)):M&&(Z(),Q(M,1,1,(()=>{M=null})),X()),t[3].data.population.value_rank?N?N.p(t,n):(N=Ga(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},i(t){p||(J(M),p=!0)},o(t){Q(M),p=!1},d(t){t&&v(e),M&&M.d(),N&&N.d()}}}function Va(t){let e,n,r;return n=new Zi({props:{data:[{x:t[3].data.population.value[2011].all}],ticks:t[5].population.value[2011].all,formatTick:lo,suffix:"k",scale:"sqrt"}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart svelte-eg1r6h")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,e){const r={};8&e&&(r.data=[{x:t[3].data.population.value[2011].all}]),32&e&&(r.ticks=t[5].population.value[2011].all),n.$set(r)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function Ga(t){let e,n,r,i,a,o,l,c=t[3].data.population.value_rank[2011].all.toLocaleString()+"",s=pt(t[3].data.population.value_rank[2011].all)+"",u=t[3].count.toLocaleString()+"",d=wt[t[3].type].pl.toLowerCase()+"";return{c(){e=$("div"),n=b(c),r=b(s),i=b(" most populous of "),a=b(u),o=k(),l=b(d),z(e,"class","text-small muted svelte-eg1r6h")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(e,l)},p(t,e){8&e&&c!==(c=t[3].data.population.value_rank[2011].all.toLocaleString()+"")&&A(n,c),8&e&&s!==(s=pt(t[3].data.population.value_rank[2011].all)+"")&&A(r,s),8&e&&u!==(u=t[3].count.toLocaleString()+"")&&A(a,u),8&e&&d!==(d=wt[t[3].type].pl.toLowerCase()+"")&&A(l,d)},d(t){t&&v(e)}}}function Ua(t){let e,n,r,i,a,o,l,c,s,u,d,f,h,g,p,x,w=t[3].data.density.value[2011].all.toFixed(1)+"",M=yt(t[3].data.population.value.change.all,"%",1)+"",N=t[5]&&Ya(t),C=t[3].data.density.value_rank&&Za(t);return{c(){e=$("div"),n=$("span"),n.textContent="Density",r=k(),i=$("br"),a=k(),o=$("span"),l=b(w),c=k(),s=$("span"),s.innerHTML="people<br/>per hectare",u=k(),d=$("span"),f=b(M),g=k(),N&&N.c(),p=k(),C&&C.c(),z(n,"class","text-label svelte-eg1r6h"),z(o,"class","text-big inline svelte-eg1r6h"),z(s,"class","inline condensed text-small svelte-eg1r6h"),z(d,"class",h="inline "+mt(t[3].data.population.value.change.all)+" svelte-eg1r6h")},m(t,h){y(t,e,h),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(o,l),m(e,c),m(e,s),m(e,u),m(e,d),m(d,f),m(e,g),N&&N.m(e,null),m(e,p),C&&C.m(e,null),x=!0},p(t,n){(!x||8&n)&&w!==(w=t[3].data.density.value[2011].all.toFixed(1)+"")&&A(l,w),(!x||8&n)&&M!==(M=yt(t[3].data.population.value.change.all,"%",1)+"")&&A(f,M),(!x||8&n&&h!==(h="inline "+mt(t[3].data.population.value.change.all)+" svelte-eg1r6h"))&&z(d,"class",h),t[5]?N?(N.p(t,n),32&n&&J(N,1)):(N=Ya(t),N.c(),J(N,1),N.m(e,p)):N&&(Z(),Q(N,1,1,(()=>{N=null})),X()),t[3].data.density.value_rank?C?C.p(t,n):(C=Za(t),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i(t){x||(J(N),x=!0)},o(t){Q(N),x=!1},d(t){t&&v(e),N&&N.d(),C&&C.d()}}}function Ya(t){let e,n,r;return n=new Zi({props:{data:[{x:t[3].data.density.value[2011].all}],ticks:t[5].density.value[2011].all,formatTick:co,scale:"sqrt"}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart svelte-eg1r6h")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,e){const r={};8&e&&(r.data=[{x:t[3].data.density.value[2011].all}]),32&e&&(r.ticks=t[5].density.value[2011].all),n.$set(r)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function Za(t){let e,n,r,i,a,o,l,c=t[3].data.density.value_rank[2011].all.toLocaleString()+"",s=pt(t[3].data.density.value_rank[2011].all)+"",u=t[3].count.toLocaleString()+"",d=wt[t[3].type].pl.toLowerCase()+"";return{c(){e=$("div"),n=b(c),r=b(s),i=b(" densest of "),a=b(u),o=k(),l=b(d),z(e,"class","text-small muted svelte-eg1r6h")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(e,l)},p(t,e){8&e&&c!==(c=t[3].data.density.value_rank[2011].all.toLocaleString()+"")&&A(n,c),8&e&&s!==(s=pt(t[3].data.density.value_rank[2011].all)+"")&&A(r,s),8&e&&u!==(u=t[3].count.toLocaleString()+"")&&A(a,u),8&e&&d!==(d=wt[t[3].type].pl.toLowerCase()+"")&&A(l,d)},d(t){t&&v(e)}}}function Xa(t){let e,n,r,i,a,o,l,c,s,u,f,h,g,p,x=t[3].data.agemed.value[2011].all+"",w=yt(t[3].data.agemed.value[2011].all-t[3].data.agemed.value[2001].all,"yrs")+"",M=t[5]&&Ja(t),N=t[3].data.agemed.value_rank&&Qa(t);return{c(){e=$("div"),n=$("span"),n.textContent="Median Age",r=k(),i=$("br"),a=k(),o=$("span"),l=b(x),c=k(),s=$("span"),u=b(w),h=k(),M&&M.c(),g=k(),N&&N.c(),z(n,"class","text-label svelte-eg1r6h"),z(o,"class","text-big svelte-eg1r6h"),z(s,"class",f=d(mt(t[3].data.agemed.value[2011].all-t[3].data.agemed.value[2001].all))+" svelte-eg1r6h")},m(t,d){y(t,e,d),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(o,l),m(e,c),m(e,s),m(s,u),m(e,h),M&&M.m(e,null),m(e,g),N&&N.m(e,null),p=!0},p(t,n){(!p||8&n)&&x!==(x=t[3].data.agemed.value[2011].all+"")&&A(l,x),(!p||8&n)&&w!==(w=yt(t[3].data.agemed.value[2011].all-t[3].data.agemed.value[2001].all,"yrs")+"")&&A(u,w),(!p||8&n&&f!==(f=d(mt(t[3].data.agemed.value[2011].all-t[3].data.agemed.value[2001].all))+" svelte-eg1r6h"))&&z(s,"class",f),t[5]?M?(M.p(t,n),32&n&&J(M,1)):(M=Ja(t),M.c(),J(M,1),M.m(e,g)):M&&(Z(),Q(M,1,1,(()=>{M=null})),X()),t[3].data.agemed.value_rank?N?N.p(t,n):(N=Qa(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},i(t){p||(J(M),p=!0)},o(t){Q(M),p=!1},d(t){t&&v(e),M&&M.d(),N&&N.d()}}}function Ja(t){let e,n,r;return n=new Zi({props:{data:[{x:t[3].data.agemed.value[2011].all}],ticks:t[5].agemed.value[2011].all,formatTick:so,scale:"log"}}),{c(){e=$("div"),tt(n.$$.fragment),z(e,"class","chart svelte-eg1r6h")},m(t,i){y(t,e,i),et(n,e,null),r=!0},p(t,e){const r={};8&e&&(r.data=[{x:t[3].data.agemed.value[2011].all}]),32&e&&(r.ticks=t[5].agemed.value[2011].all),n.$set(r)},i(t){r||(J(n.$$.fragment,t),r=!0)},o(t){Q(n.$$.fragment,t),r=!1},d(t){t&&v(e),nt(n)}}}function Qa(t){let e,n,r,i,a,o,l,c=t[3].data.agemed.value_rank[2011].all.toLocaleString()+"",s=pt(t[3].data.agemed.value_rank[2011].all)+"",u=t[3].count.toLocaleString()+"",d=wt[t[3].type].pl.toLowerCase()+"";return{c(){e=$("div"),n=b(c),r=b(s),i=b(" oldest of "),a=b(u),o=k(),l=b(d),z(e,"class","text-small muted svelte-eg1r6h")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,i),m(e,a),m(e,o),m(e,l)},p(t,e){8&e&&c!==(c=t[3].data.agemed.value_rank[2011].all.toLocaleString()+"")&&A(n,c),8&e&&s!==(s=pt(t[3].data.agemed.value_rank[2011].all)+"")&&A(r,s),8&e&&u!==(u=t[3].count.toLocaleString()+"")&&A(a,u),8&e&&d!==(d=wt[t[3].type].pl.toLowerCase()+"")&&A(l,d)},d(t){t&&v(e)}}}function to(t){let e,n,r,i,a,o,l,c;function s(t,e){return t[7]||"ew"==t[3].type?t[7]?eo:void 0:no}o=new la({props:{data:t[3]&&t[12](["age10yr","perc","2011"]),zKey:t[7]?"prev":"ew"!=t[3].type?"ew":null}});let u=s(t),d=u&&u(t);return{c(){e=$("div"),n=$("span"),n.textContent="Age profile",r=$("br"),i=k(),a=$("div"),tt(o.$$.fragment),l=k(),d&&d.c(),z(n,"class","text-label svelte-eg1r6h"),z(a,"class","chart svelte-eg1r6h"),S(a,"height","85px")},m(t,s){y(t,e,s),m(e,n),m(e,r),m(e,i),m(e,a),et(o,a,null),m(e,l),d&&d.m(e,null),c=!0},p(t,n){const r={};8&n&&(r.data=t[3]&&t[12](["age10yr","perc","2011"])),136&n&&(r.zKey=t[7]?"prev":"ew"!=t[3].type?"ew":null),o.$set(r),u!==(u=s(t))&&(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(e,null)))},i(t){c||(J(o.$$.fragment,t),c=!0)},o(t){Q(o.$$.fragment,t),c=!1},d(t){t&&v(e),nt(o),d&&d.d()}}}function eo(t){let e;return{c(){e=$("div"),e.innerHTML='<li class="line svelte-eg1r6h"></li> shows 2001 profile',z(e,"class","text-small muted svelte-eg1r6h")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function no(t){let e;return{c(){e=$("div"),e.innerHTML='<li class="line svelte-eg1r6h"></li> shows England &amp; Wales profile',z(e,"class","text-small muted svelte-eg1r6h")},m(t,n){y(t,e,n)},d(t){t&&v(e)}}}function ro(t){let e,n,r,i,a,o;return a=new Ma({props:{data:t[3]&&t[12](["economic","perc","2011"]),zKey:t[7]?"prev":"ew"!=t[3].type?"ew":null}}),{c(){e=$("div"),n=$("span"),n.textContent="Economic activity",r=$("br"),i=k(),tt(a.$$.fragment),z(n,"class","text-label svelte-eg1r6h")},m(t,l){y(t,e,l),m(e,n),m(e,r),m(e,i),et(a,e,null),o=!0},p(t,e){const n={};8&e&&(n.data=t[3]&&t[12](["economic","perc","2011"])),136&e&&(n.zKey=t[7]?"prev":"ew"!=t[3].type?"ew":null),a.$set(n)},i(t){o||(J(a.$$.fragment,t),o=!0)},o(t){Q(a.$$.fragment,t),o=!1},d(t){t&&v(e),nt(a)}}}function io(t){let e,n,r,i,a,o,l;return a=new Ma({props:{data:t[3]&&t[12](["travel","perc","2011"]),zKey:t[7]?"prev":"ew"!=t[3].type?"ew":null}}),{c(){e=$("div"),n=$("span"),n.textContent="Travel to work",r=$("br"),i=k(),tt(a.$$.fragment),o=k(),z(n,"class","text-label svelte-eg1r6h")},m(t,c){y(t,e,c),m(e,n),m(e,r),m(e,i),et(a,e,null),m(e,o),l=!0},p(t,e){const n={};8&e&&(n.data=t[3]&&t[12](["travel","perc","2011"])),136&e&&(n.zKey=t[7]?"prev":"ew"!=t[3].type?"ew":null),a.$set(n)},i(t){l||(J(a.$$.fragment,t),l=!0)},o(t){Q(a.$$.fragment,t),l=!1},d(t){t&&v(e),nt(a)}}}function ao(t){let e,n,r,i,a,o,l,c="population"==t[22]&&Wa(t),s="density"==t[22]&&Ua(t),u="agemed"==t[22]&&Xa(t),d="age10yr"==t[22]&&to(t),f="economic"==t[22]&&ro(t),h="travel"==t[22]&&io(t);return{c(){c&&c.c(),e=k(),s&&s.c(),n=k(),u&&u.c(),r=k(),d&&d.c(),i=k(),f&&f.c(),a=k(),h&&h.c(),o=M()},m(t,g){c&&c.m(t,g),y(t,e,g),s&&s.m(t,g),y(t,n,g),u&&u.m(t,g),y(t,r,g),d&&d.m(t,g),y(t,i,g),f&&f.m(t,g),y(t,a,g),h&&h.m(t,g),y(t,o,g),l=!0},p(t,l){"population"==t[22]?c?(c.p(t,l),1024&l&&J(c,1)):(c=Wa(t),c.c(),J(c,1),c.m(e.parentNode,e)):c&&(Z(),Q(c,1,1,(()=>{c=null})),X()),"density"==t[22]?s?(s.p(t,l),1024&l&&J(s,1)):(s=Ua(t),s.c(),J(s,1),s.m(n.parentNode,n)):s&&(Z(),Q(s,1,1,(()=>{s=null})),X()),"agemed"==t[22]?u?(u.p(t,l),1024&l&&J(u,1)):(u=Xa(t),u.c(),J(u,1),u.m(r.parentNode,r)):u&&(Z(),Q(u,1,1,(()=>{u=null})),X()),"age10yr"==t[22]?d?(d.p(t,l),1024&l&&J(d,1)):(d=to(t),d.c(),J(d,1),d.m(i.parentNode,i)):d&&(Z(),Q(d,1,1,(()=>{d=null})),X()),"economic"==t[22]?f?(f.p(t,l),1024&l&&J(f,1)):(f=ro(t),f.c(),J(f,1),f.m(a.parentNode,a)):f&&(Z(),Q(f,1,1,(()=>{f=null})),X()),"travel"==t[22]?h?(h.p(t,l),1024&l&&J(h,1)):(h=io(t),h.c(),J(h,1),h.m(o.parentNode,o)):h&&(Z(),Q(h,1,1,(()=>{h=null})),X())},i(t){l||(J(c),J(s),J(u),J(d),J(f),J(h),l=!0)},o(t){Q(c),Q(s),Q(u),Q(d),Q(f),Q(h),l=!1},d(t){c&&c.d(t),t&&v(e),s&&s.d(t),t&&v(n),u&&u.d(t),t&&v(r),d&&d.d(t),t&&v(i),f&&f.d(t),t&&v(a),h&&h.d(t),t&&v(o)}}}function oo(t){let e,n,r=t[3]&&t[4]&&t[2]&&Oa(t);return{c(){r&&r.c(),e=M()},m(t,i){r&&r.m(t,i),y(t,e,i),n=!0},p(t,[n]){t[3]&&t[4]&&t[2]?r?(r.p(t,n),28&n&&J(r,1)):(r=Oa(t),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(Z(),Q(r,1,1,(()=>{r=null})),X())},i(t){n||(J(r),n=!0)},o(t){Q(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}const lo=t=>(t/1e3).toFixed(0),co=t=>t.toFixed(0),so=t=>t.toFixed(0);function uo(t,e,n){let r,i,a,o,l,c,s,u,d,f,h=!1;function g(t){fetch(xt+t+".json").then((t=>t.json())).then((e=>{e.children=r.filter((e=>e.parent==t)),e.count>20?fetch($t+e.type+".json").then((t=>t.json())).then((t=>{n(5,l=t),n(3,a=e),m()})):(n(5,l=null),n(3,a=e),m())}))}function p(){let t=window.location.hash;if(t){let e=t.split("/");5==e.length&&(n(2,i=r.find((t=>t.code==e[1]))),n(8,u="select"==e[2]),n(9,d="change"==e[3]),n(10,f=e[4].split(",")),g(i.code))}}async function m(){var t;await(t=100,new Promise((e=>setTimeout(e,t)))),pymChild.sendHeight(),console.log(pymChild.sendHeight())}(async function(t){let e=await fetch(t),n=await e.text();return await ft(n,ht)})(vt).then((t=>{t.forEach((t=>{t.typepl=wt[t.type].pl,t.typenm=wt[t.type].name})),n(1,r=t.sort(((t,e)=>t.name.localeCompare(e.name)))),function(){const t="K04000001";fetch(xt+t+".json").then((t=>t.json())).then((e=>{e.children=r.filter((e=>e.parent==t)),n(4,o=e)}))}(),p()})),window.onhashchange=p;return t.$$.update=()=>{1&t.$$.dirty&&c&&(n(6,s=c<575?1:window.getComputedStyle(grid).getPropertyValue("grid-template-columns").split(" ").length),m())},[c,r,i,a,o,l,s,h,u,d,f,g,function(t){let e=t[0],n=t[1],r=a.data[e][n][2011],i=a.data[e][n][2001],l=o.data[e][n][2011],c=bt[e].map((t=>t.code)),s=bt[e].map((t=>t.label?t.label:t.code));return c.map(((t,e)=>({x:s[e],y:r[t],ew:l[t],prev:i[t]})))},function(t){i=t,n(2,i)},()=>{i&&g(i.code)},()=>n(7,h=!1),()=>n(7,h=!0),function(){c=this.clientWidth,n(0,c)}]}return new class extends at{constructor(t){super(),it(this,t,uo,oo,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
